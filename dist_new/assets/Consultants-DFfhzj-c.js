import{_ as R}from"./Layout-141RyleD.js";import{H as A}from"./PhCaretLeft.vue-Y_rwbqM1.js";import{G as B}from"./PhCaretRight.vue-DA-YUBxq.js";import{I}from"./newNavbar-BzZxYsYg.js";import{I as U}from"./PhPlus.vue-BYUpdtTk.js";import{_ as V,e as d,g as E,f as H,h as z,s as P,q as D,r as b,o as i,c,a as t,b as u,w as L,d as w,j as x,E as a,k as G,v as J,F as q,L as O,J as Q}from"./index-BLbGlZhr.js";import{_ as W}from"./debounce-DEXiE2jx.js";import"./footer-BeIirRJy.js";import"./customerBottom-BQQFIdIY.js";import"./PhUser.vue-CCnuU2FN.js";import"./_baseGetTag-Dyeai_b1.js";const X={name:"AdminCustomers",components:{PhCaretLeft:A,PhCaretRight:B,PhFileSearch:I,PhPlus:U},setup(){const S="https://api.jatidiri.app/api/",s=d(!1),_=d([]),e=d(null),y=d(""),k=d(null),m=d(null),h=d(null),f=d(null),g=d(null),p=d(null),n=d(null),v=d(null),C=d(!1),K=r=>{j();const o=_.value.find(l=>l.id===r);e.value=o},j=()=>{C.value=!C.value},F=E();H(),z(async()=>{N()});const N=async()=>{s.value=!s.value;const r=P.get("token");if(r){const o=await D("get","consultants",null,r);_.value=o.data.data,y.value=o.data.last_page,k.value=o.data.per_page,m.value=o.data.current_page,h.value=o.data.next_page_url,f.value=o.data.prev_page_url,g.value=o.data.from,p.value=o.data.to,n.value=o.data.total,s.value=!s.value}else F.push("/login"),localStorage.clear()},T=async()=>{if(v.value!==""&&v.value.length>=2){s.value=!s.value;const r=P.get("token");if(r){const o=await D("get","consultants?search="+v.value,null,r);_.value=o.data.data,y.value=o.data.last_page,k.value=o.data.per_page,m.value=o.data.current_page,h.value=o.data.next_page_url,f.value=o.data.prev_page_url,g.value=o.data.from,p.value=o.data.to,n.value=o.data.total}else F.push("/login"),localStorage.clear();s.value=!s.value}else return N()},M=W(T,500);return{baseUrl:S,loading:s,dataCustomer:_,detailCustomers:e,totalHalaman:y,currPage:m,nextPage:h,prevPage:f,totalDari:g,totalKe:p,totalData:n,cari:v,debouncedGetSearchData:M,isModalOpen:C,nextPages:async r=>{s.value=!s.value;const o=P.get("token");if(o){const l=await D("get",r,null,o);_.value=l.data.data,y.value=l.data.last_page,k.value=l.data.per_page,m.value=l.data.current_page,h.value=l.data.next_page_url,f.value=l.data.prev_page_url,g.value=l.data.from,p.value=l.data.to,n.value=l.data.total,s.value=!s.value}else F.push("/login"),localStorage.clear()},prevPages:async r=>{s.value=!s.value;const o=P.get("token");if(o){const l=await D("get",r,null,o);_.value=l.data.data,y.value=l.data.last_page,k.value=l.data.per_page,m.value=l.data.current_page,h.value=l.data.next_page_url,f.value=l.data.prev_page_url,g.value=l.data.from,p.value=l.data.to,n.value=l.data.total,s.value=!s.value}else F.push("/login"),localStorage.clear()},getSearchData:T,clickDetail:K,toggleModal:j}}},Y={class:"bg-gray-100 pb-28"},Z={class:"mx-4 pt-4"},$={class:"mx-4 flex justify-start items-center text-gray-500 font-semibold"},tt=t("span",{class:"mx-2 text-base text-gray-400"},"/",-1),et=t("span",{class:"text-gray-400 text-base"}," Users ",-1),st=t("span",{class:"mx-2 text-base"},"/",-1),ot={key:0,class:"fixed z-[999] inset-0 bg-gray-900 bg-opacity-60 overflow-y-auto h-full w-full px-4 modal"},at={class:"hidden lg:block relative w-3/4 top-4 mx-auto shadow-xl rounded-md bg-white"},lt=t("h1",{class:"font-myFont text-dark text-lg mx-4 pt-4"},"Detail Konsultan",-1),nt=t("hr",{class:"mt-4"},null,-1),it={class:"flex flex-row"},dt=["src"],ct={key:1,class:"w-1/2 h-3/4 p-4",src:"https://placehold.co/400x400",alt:""},rt={key:2,class:"w-full p-4"},mt={class:"flex flex-row gap-2"},_t={class:"w-full"},xt={class:"flex flex-row items-center gap-2 mb-4"},ut={class:"w-1/2"},ht={class:"flex flex-col"},ft=t("h1",{class:"font-myFont font-medium text-dark text-lg"}," Nama ",-1),gt={class:"font-myFont font-medium text-dark text-sm"},pt={class:"w-1/2"},vt={class:"flex flex-col"},yt=t("h1",{class:"font-myFont font-medium text-dark text-lg"}," Jenis Kelamin ",-1),kt={class:"font-myFont font-medium text-dark text-sm"},bt={class:"flex flex-row items-center gap-2 mb-4"},wt={class:"w-1/2"},Ct={class:"flex flex-col"},Ft=t("h1",{class:"font-myFont font-medium text-dark text-lg"}," No Telp ",-1),Pt={class:"font-myFont font-medium text-dark text-sm"},Dt={class:"w-1/2"},Lt={class:"flex flex-col"},St=t("h1",{class:"font-myFont font-medium text-dark text-lg"}," Email ",-1),jt={class:"font-myFont font-medium text-dark text-sm"},Nt={class:"flex flex-row items-center gap-2 mb-4"},Tt={class:"w-1/2"},Kt={class:"flex flex-col"},Mt=t("h1",{class:"font-myFont font-medium text-dark text-lg"}," Tempat Lahir ",-1),Rt={class:"font-myFont font-medium text-dark text-sm"},At={class:"w-1/2"},Bt={class:"flex flex-col"},It=t("h1",{class:"font-myFont font-medium text-dark text-lg"}," Tanggal Lahir ",-1),Ut={class:"font-myFont font-medium text-dark text-sm"},Vt={class:"flex flex-row items-center gap-2 mb-4"},Et={class:"w-full"},Ht={class:"flex flex-col"},zt=t("h1",{class:"font-myFont font-medium text-dark text-lg"}," Status ",-1),Gt={class:"font-myFont font-medium text-dark text-sm"},Jt={class:"flex flex-row items-center gap-2 mb-4"},qt={class:"w-full"},Ot={class:"flex flex-col"},Qt=t("h1",{class:"font-myFont font-medium text-dark text-lg"}," Alamat ",-1),Wt={class:"font-myFont font-medium text-dark text-sm"},Xt={class:"font-myFont font-medium text-dark text-sm"},Yt=t("div",{class:"w-1/2"},null,-1),Zt=t("hr",{class:"pt-4"},null,-1),$t={class:"px-4 py-2 flex justify-end items-center space-x-4"},te={class:"block lg:hidden relative w-full top-4 mx-auto shadow-xl rounded-md bg-white"},ee=t("h1",{class:"font-myFont text-dark text-lg mx-4 pt-4"},"Detail Konsultan",-1),se=t("hr",{class:"mt-4"},null,-1),oe={class:"flex flex-col justify-center items-center"},ae=["src"],le={key:1,class:"w-[180px] h-[180px] p-4",src:"https://placehold.co/400x400",alt:""},ne={key:2,class:"w-full p-4"},ie={class:"flex flex-row gap-2"},de={class:"w-full"},ce={class:"flex flex-row items-center mb-4"},re={class:"w-3/5"},me={class:"flex flex-col items-start"},_e=t("h1",{class:"font-myFont font-medium text-dark text-sm"}," Nama ",-1),xe={class:"font-myFont font-medium text-dark text-xs"},ue={class:"w-2/5"},he={class:"flex flex-col items-start"},fe=t("h1",{class:"font-myFont font-medium text-dark text-sm"}," Jenis Kelamin ",-1),ge={class:"font-myFont font-medium text-dark text-xs"},pe={class:"flex flex-row items-center gap-2 mb-4"},ve={class:"w-3/5"},ye={class:"flex flex-col items-start"},ke=t("h1",{class:"font-myFont font-medium text-dark text-sm"}," No Telp ",-1),be={class:"font-myFont font-medium text-dark text-xs"},we={class:"w-2/5"},Ce={class:"flex flex-col items-start"},Fe=t("h1",{class:"font-myFont font-medium text-dark text-sm"}," Email ",-1),Pe={class:"font-myFont font-medium text-dark text-xs"},De={class:"flex flex-row items-center mb-4"},Le={class:"w-3/5"},Se={class:"flex flex-col items-start"},je=t("h1",{class:"font-myFont font-medium text-dark text-sm"}," Tempat Lahir ",-1),Ne={class:"font-myFont font-medium text-dark text-xs"},Te={class:"w-2/5"},Ke={class:"flex flex-col items-start"},Me=t("h1",{class:"font-myFont font-medium text-dark text-sm"}," Tanggal Lahir ",-1),Re={class:"font-myFont font-medium text-dark text-xs"},Ae={class:"flex flex-row items-center gap-2 mb-4"},Be={class:"w-full"},Ie={class:"flex flex-col items-start"},Ue=t("h1",{class:"font-myFont font-medium text-dark text-sm"}," Status ",-1),Ve={class:"font-myFont font-medium text-dark text-xs"},Ee={class:"flex flex-row items-center gap-2 mb-4"},He={class:"w-full"},ze={class:"flex flex-col items-start"},Ge=t("h1",{class:"font-myFont font-medium text-dark text-sm"}," Alamat ",-1),Je={class:"font-myFont font-medium text-dark text-xs"},qe={class:"font-myFont font-medium text-dark text-xs"},Oe=t("hr",{class:"pt-4"},null,-1),Qe={class:"px-4 py-2 flex justify-end items-center space-x-4"},We={class:"flex flex-col lg:flex-row justify-center mx-4 mb-4 pt-4 pb-10 gap-4"},Xe={class:"w-full px-7 mx-auto"},Ye={class:"flex flex-col bg-white w-full p-6 rounded-lg shadow-lg"},Ze=t("h1",{class:"font-myFont text-dark text-lg mb-4"},"Registrasi Konsultan",-1),$e={class:"flex flex-col md:flex-row md:items-center md:justify-between lg:flex-row lg:items-center lg:justify-between"},ts={class:"relative inline-block text-left"},es={class:"flex items-center gap-1"},ss={key:0,class:"flex justify-center w-full"},os=t("span",{class:"mx-auto animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14"},null,-1),as=[os],ls={key:1,class:"overflow-x-auto"},ns={class:"w-full text-sm text-left text-gray-500"},is=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"py-3 px-6"},"No"),t("th",{scope:"col",class:"py-3 px-6"},"Nama"),t("th",{scope:"col",class:"py-3 px-6"},"No Telp"),t("th",{scope:"col",class:"py-3 px-6"},"Detail")])],-1),ds={class:"py-4 px-6"},cs={class:"py-4 px-6"},rs={class:"py-4 px-6"},ms={class:"py-4 px-6"},_s=["onClick"],xs={key:2,class:"font-myFont text-center text-dark text-lg"},us={class:"flex justify-between items-center mt-4"},hs={class:"font-myFont text-xs md:text-sm lg:text-sm text-start lg:text-center text-dark"},fs={class:"flex items-center font-myFont text-dark text-xs lg:text-base"},gs={class:"mx-2 flex items-center gap-1"},ps={class:"px-2 py-1 border rounded-lg"};function vs(S,s,_,e,y,k){const m=b("RouterLink"),h=b("PhPlus"),f=b("PhFileSearch"),g=b("PhCaretLeft"),p=b("PhCaretRight");return i(),c("section",Y,[t("div",Z,[t("ol",$,[u(m,{to:{name:"views.dashboard"},class:"text-gray-400 hover:text-dark text-base"},{default:L(()=>[w(" Beranda ")]),_:1},8,["to"]),tt,et,st,u(m,{to:{name:"admin.views.konsultan"},class:"text-base text-dark hover:text-dark/70"},{default:L(()=>[w(" Konsultan ")]),_:1},8,["to"])])]),e.isModalOpen&&e.detailCustomers?(i(),c("div",ot,[t("div",at,[lt,nt,t("div",it,[e.detailCustomers.image!==null?(i(),c("img",{key:0,class:"w-[400px] h-[400px] p-4",src:e.baseUrl+"open/consultant/"+e.detailCustomers.image,alt:""},null,8,dt)):x("",!0),e.detailCustomers.image==null?(i(),c("img",ct)):x("",!0),e.detailCustomers?(i(),c("div",rt,[t("div",mt,[t("div",_t,[t("div",xt,[t("div",ut,[t("div",ht,[ft,t("p",gt,a(e.detailCustomers.name),1)])]),t("div",pt,[t("div",vt,[yt,t("p",kt,a(e.detailCustomers.gender==1?"Laki - Laki":"Perempuan"),1)])])]),t("div",bt,[t("div",wt,[t("div",Ct,[Ft,t("p",Pt,a(e.detailCustomers.number),1)])]),t("div",Dt,[t("div",Lt,[St,t("p",jt,a(e.detailCustomers.user.email),1)])])]),t("div",Nt,[t("div",Tt,[t("div",Kt,[Mt,t("p",Rt,a(e.detailCustomers.birth_place),1)])]),t("div",At,[t("div",Bt,[It,t("p",Ut,a(e.detailCustomers.birth_date),1)])])]),t("div",Vt,[t("div",Et,[t("div",Ht,[zt,t("p",Gt,a(e.detailCustomers.status),1)])])]),t("div",Jt,[t("div",qt,[t("div",Ot,[Qt,t("p",Wt,a(e.detailCustomers.address),1),t("p",Xt,a(e.detailCustomers.region),1)])])])]),Yt])])):x("",!0)]),Zt,t("div",$t,[t("button",{class:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",onClick:s[0]||(s[0]=(...n)=>e.toggleModal&&e.toggleModal(...n))},"Tutup")])]),t("div",te,[ee,se,t("div",oe,[e.detailCustomers.image!==null?(i(),c("img",{key:0,class:"w-[180px] h-[180px] p-4",src:e.baseUrl+"open/consultant/"+e.detailCustomers.image,alt:""},null,8,ae)):x("",!0),e.detailCustomers.image==null?(i(),c("img",le)):x("",!0),e.detailCustomers?(i(),c("div",ne,[t("div",ie,[t("div",de,[t("div",ce,[t("div",re,[t("div",me,[_e,t("p",xe,a(e.detailCustomers.name),1)])]),t("div",ue,[t("div",he,[fe,t("p",ge,a(e.detailCustomers.gender==1?"Laki - Laki":"Perempuan"),1)])])]),t("div",pe,[t("div",ve,[t("div",ye,[ke,t("p",be,a(e.detailCustomers.number),1)])]),t("div",we,[t("div",Ce,[Fe,t("p",Pe,a(e.detailCustomers.user.email),1)])])]),t("div",De,[t("div",Le,[t("div",Se,[je,t("p",Ne,a(e.detailCustomers.birth_place),1)])]),t("div",Te,[t("div",Ke,[Me,t("p",Re,a(e.detailCustomers.birth_date),1)])])]),t("div",Ae,[t("div",Be,[t("div",Ie,[Ue,t("p",Ve,a(e.detailCustomers.status),1)])])]),t("div",Ee,[t("div",He,[t("div",ze,[Ge,t("p",Je,a(e.detailCustomers.address),1),t("p",qe,a(e.detailCustomers.region),1)])])])])])])):x("",!0)]),Oe,t("div",Qe,[t("button",{class:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",onClick:s[1]||(s[1]=(...n)=>e.toggleModal&&e.toggleModal(...n))},"Tutup")])])])):x("",!0),t("div",We,[t("div",Xe,[t("div",Ye,[Ze,t("div",$e,[t("div",ts,[t("div",es,[u(m,{to:{name:"admin.views.konsultan.register"},type:"button",class:"mb-2 md:mb-0 lg:mb-0 font-myFont flex w-full justify-center items-center gap-x-1.5 rounded-md bg-biru px-3 py-2 text-sm font-medium text-light hover:bg-opacity-75 hover:shadow-md"},{default:L(()=>[u(h,{size:20}),w(" Registrasi Konsultan ")]),_:1},8,["to"])])]),G(t("input",{"onUpdate:modelValue":s[2]||(s[2]=n=>e.cari=n),onInput:s[3]||(s[3]=()=>e.debouncedGetSearchData()),type:"text",name:"cari",class:"mb-2 font-myFont rounded-md border border-gray-300 py-2 px-3",placeholder:"Cari Data"},null,544),[[J,e.cari]])]),e.loading?(i(),c("div",ss,as)):e.dataCustomer.length>0&&!e.loading?(i(),c("div",ls,[t("table",ns,[is,t("tbody",null,[(i(!0),c(q,null,O(e.dataCustomer,(n,v)=>(i(),c("tr",{key:v,class:"bg-white border-b"},[t("td",ds,a(v+1),1),t("td",cs,a(n.name),1),t("td",rs,a(n.number),1),t("td",ms,[t("button",{onClick:C=>e.clickDetail(n.id),class:"flex items-center gap-1 px-4 py-2 bg-biru font-myFont text-sm text-white rounded-lg hover:bg-opacity-75 hover:shadow-lg"},[u(f,{size:22})],8,_s)])]))),128))])])])):e.dataCustomer.length==0&&!e.loading?(i(),c("span",xs,"Data kosong")):x("",!0),t("div",us,[t("span",hs,a(e.totalDari==null?0:e.totalDari)+" sampai "+a(e.totalKe==null?0:e.totalKe)+" dari "+a(e.totalData)+" data. ",1),t("a",fs,[w(" Halaman "),t("div",gs,[t("a",{onClick:s[4]||(s[4]=n=>e.nextPages(e.nextPage)),class:"cursor-pointer text-sm md:text-base lg:text-xl text-dark text-opacity-70 hover:text-opacity-100 hover:shadow-sm"},[u(g)]),t("span",ps,a(e.currPage),1),t("a",{onClick:s[5]||(s[5]=n=>e.prevPages(e.prevPage)),class:"cursor-pointer text-sm md:text-base lg:text-xl text-dark text-opacity-70 hover:text-opacity-100 hover:shadow-sm"},[u(p)])]),w(" Dari "+a(e.totalHalaman),1)])])])])])])}const ys=V(X,[["render",vs]]),Ms={__name:"Consultants",setup(S){return(s,_)=>(i(),Q(R,null,{default:L(()=>[u(ys)]),_:1}))}};export{Ms as default};
