import{_ as D,g as L,f as j,e as p,h as M,r as F,o as a,c as r,j as i,a as e,D as g,a4 as R,k as I,a5 as T,b as c,w as N,n as z,F as y,I as V,s as f,q as x,S as C,t as E,x as Z,y as q,a6 as A,u as G,i as H,B as P,X as U}from"./index-BLbGlZhr.js";import{b as X,f as J}from"./customerBottom-BQQFIdIY.js";const K="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.4198%202.03174C8.4198%202.03174%207.19565%202.49994%204.94567%204.74994C2.7039%206.99169%202.23379%208.21799%202.23038%208.22694C2.17574%209.29519%202.14185%2010.5444%202.14185%2011.9999C2.14185%2016.3427%202.4436%2018.8494%202.69766%2020.1903C2.86087%2021.0517%203.53301%2021.6421%204.40468%2021.7361C5.5813%2021.8631%207.6576%2021.9999%2011.1418%2021.9999C14.6261%2021.9999%2016.7024%2021.8631%2017.879%2021.7361C18.7507%2021.6421%2019.4228%2021.0517%2019.586%2020.1903C19.8401%2018.8494%2020.1418%2016.3427%2020.1418%2011.9999C20.1418%207.65719%2019.8401%205.15049%2019.586%203.80961C19.4228%202.9482%2018.7507%202.35779%2017.879%202.26373C16.7024%202.13676%2014.6261%201.99994%2011.1418%201.99994C10.117%201.99994%209.21395%202.01179%208.4198%202.03174Z'%20fill='%23C1C1FD'/%3e%3cpath%20d='M2.23047%208.22689C3.67024%208.58904%205.37014%208.61309%206.83839%208.16454C7.45914%207.97489%207.94314%207.49134%208.15264%206.87704C8.67454%205.34669%208.80349%203.47351%208.41989%202.03168C8.41989%202.03168%207.19579%202.49988%204.94577%204.74988C2.69577%206.99989%202.23047%208.22689%202.23047%208.22689Z'%20fill='%232626C6'/%3e%3cpath%20d='M21.7276%2012.278C22.5087%2011.4969%2022.5087%2010.2306%2021.7276%209.44954L20.1924%207.91434C19.4113%207.13329%2018.145%207.13329%2017.3639%207.91434L11.7276%2013.5507C11.3525%2013.9258%2011.1418%2014.4345%2011.1418%2014.9649V17.5001C11.1418%2018.0524%2011.5895%2018.5001%2012.1418%2018.5001H14.677C15.2075%2018.5001%2015.7162%2018.2894%2016.0912%2017.9143L21.7276%2012.278Z'%20fill='%232626C6'/%3e%3c/svg%3e",n=u=>(E("data-v-bdf40596"),u=u(),Z(),u),O={key:0,class:"preloader-overlay"},Q=n(()=>e("span",{class:"flex justify-center animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14 m-auto"},null,-1)),W=[Q],Y={class:"h-[68px] hidden lg:flex lg:gap-4 bg-white sticky top-0 z-50 px-4 py-4"},ee={class:"w-full mx-[50px] flex justify-between items-center gap-4"},se=n(()=>e("img",{class:"w-[121.28px] h-12",src:q,alt:"Logo"},null,-1)),te={class:"flex space-x-8"},oe={class:"flex items-center gap-[6px]"},ae=n(()=>e("span",{class:"text-black font-roboto"},"Beranda",-1)),re={key:0,class:"absolute bottom-[-22px] left-0 right-0 h-[2px] bg-[#3030f8]"},le={class:"flex items-center gap-[6px]"},ne=n(()=>e("span",{class:"text-black font-roboto"},"Data Siswa",-1)),ie={key:0,class:"absolute bottom-[-22px] left-0 right-0 h-[2px] bg-[#3030f8]"},ue={key:0,class:"w-9 h-9 rounded-full",src:V},ce=n(()=>e("img",{class:"w-3 h-3",src:A},null,-1)),de={class:"w-32 p-2 transition-all duration-500 absolute top-12 -left-[44px] mt-2 bg-white text-black shadow-lg rounded-xl"},ve=n(()=>e("div",{class:"pl-3 flex items-center gap-3"},[e("span",{class:"font-roboto"},"Logout")],-1)),fe=[ve],pe={id:"bottom-navigation",class:"block lg:hidden fixed inset-x-0 bottom-0 z-50 bg-white shadow"},me={id:"tabs",class:"flex justify-between"},_e={class:"self-center"},we=n(()=>e("span",{class:"tab tab-home block text-xs"},"Beranda",-1)),he={__name:"NavbarStaff",setup(u){const d=L(),s=j(),l=p(!1),v=p(null),b=t=>{d.push({name:t})},k=async()=>{try{const t=f.get("token"),o=new FormData;o.append("refresh_user","true");const w=await x("post","login",o,t);v.value=w.data}catch{C.fire({icon:"error",title:"Error",text:"Terjadi error saat mengambil data user.",showConfirmButton:!1,timer:2e3})}},m=p(null);let _=null;function $(){_&&clearTimeout(_),m.value=!0}function S(){_=setTimeout(()=>{m.value=null},170)}const B=async()=>{l.value=!l.value;try{const t=f.get("token");if(t){const o=await x("post","logout",null,t);localStorage.clear(),f.remove("token"),s.commit("user",null),s.commit("userRole",null)}else localStorage.clear(),f.remove("token"),s.commit("user",null),s.commit("userRole",null)}catch{C.fire({icon:"error",title:"Error",text:"Terjadi error saat mencoba logout.",showConfirmButton:!1,timer:2e3})}d.push("/login"),l.value=!l.value};return M(async()=>{await k()}),(t,o)=>{const w=F("RouterLink");return a(),r(y,null,[l.value?(a(),r("div",O,W)):i("",!0),e("header",Y,[e("nav",ee,[se,e("ul",te,[e("li",{onClick:o[0]||(o[0]=h=>b("staff.views.dashboard")),class:"relative group cursor-pointer"},[e("div",oe,[e("img",{class:g({"grayscale group-hover:grayscale-0":t.$route.name!=="staff.views.dashboard","grayscale-0":t.$route.name=="staff.views.dashboard"}),src:R},null,2),ae]),t.$route.name=="staff.views.dashboard"?(a(),r("div",re)):i("",!0)]),e("li",{onClick:o[1]||(o[1]=h=>b("staff.views.list_siswa")),class:"relative group cursor-pointer"},[e("div",le,[e("img",{class:g({"grayscale group-hover:grayscale-0":t.$route.name!=="staff.views.list_siswa"||t.$route.name!=="staff.views.detail_siswa","grayscale-0":t.$route.name=="staff.views.list_siswa"||t.$route.name=="staff.views.detail_siswa"}),src:K},null,2),ne]),t.$route.name=="staff.views.list_siswa"||t.$route.name=="staff.views.detail_siswa"?(a(),r("div",ie)):i("",!0)])]),e("div",{onMouseenter:o[2]||(o[2]=h=>$()),onMouseleave:o[3]||(o[3]=h=>S()),class:"cursor-pointer relative h-9 justify-end items-center gap-2 inline-flex"},[v.value&&v.value.customer.image==null?(a(),r("img",ue)):i("",!0),ce,I(e("ul",de,[e("li",{onClick:B,class:"hover:cursor-pointer group text-sm text-[#667085] px-[10px] py-[12px] rounded-lg hover:bg-[#F0F7FD] hover:text-black"},fe)],512),[[T,m.value]])],32)])]),e("section",pe,[e("div",me,[c(w,{to:{name:"views.dashboard"},class:g(["w-full flex flex-col justify-center text-center pt-2 pb-1",{"font-bold":t.$route.name==="views.dashboard"}])},{default:N(()=>[e("div",_e,[c(z(X),{size:28})]),we]),_:1},8,["to","class"]),c(J)])])],64)}}},ge=D(he,[["__scopeId","data-v-bdf40596"]]),be={key:0},xe={key:1,class:"hidden lg:block"},ke={__name:"Layout",setup(u){p(!0);const d=G(),s=H(()=>d.name);return(l,v)=>(a(),r(y,null,[s.value!=="views.login"&&s.value!=="views.register"&&s.value!=="user.views.payment_status"&&s.value!=="views.reset_password"&&s.value!=="views.forgot_password"&&s.value!=="views.404notfound"&&s.value!=="user.views.pembayaran"&&s.value!=="user.views.download_hasil_cpm"?(a(),r("div",be,[c(ge)])):i("",!0),P(l.$slots,"default"),s.value!=="views.login"&&s.value!=="views.register"&&s.value!=="user.views.payment_status"&&s.value!=="views.reset_password"&&s.value!=="views.forgot_password"&&s.value!=="views.404notfound"&&s.value!=="user.views.pembayaran"&&s.value!=="user.views.download_hasil_cpm"?(a(),r("div",xe,[c(U)])):i("",!0)],64))}};export{ke as _};
