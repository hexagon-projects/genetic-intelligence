import{f as c,i as L,r as O,c as n,k as u,p as Q,b as x,L as S,w as C,H as k,t as w,s as y,S as f,o as a,T as $,a as e,O as T,G as j,F as B}from"./index-Dthq0P5E.js";import{_ as K}from"./chevron_forward-N6bkwtOy.js";import{_ as I}from"./chevron_right-ClIhfjI9.js";import{_ as G}from"./Layout-B-iEbMYB.js";import{R as H}from"./Reservasi-DSXqCmKX.js";import{c as Y}from"./cekProfile-BiJHQP7D.js";import{_ as W}from"./modalCekProfile-Cy3hIFsF.js";import{S as X}from"./SelesaiTest-0hQMnsJq.js";import"./PhWarning.vue-C0pCjHXV.js";import"./gradient-BrkKDYIY.js";import"./selesai-cpm-B8q2160b.js";import"./arrow-go-biru-CWElls4u.js";/* empty css                                                                    */const Z={key:0,class:"preloader-overlay"},q=e("span",{class:"flex justify-center animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14 m-auto"},null,-1),ee=[q],te={key:1},ae=e("div",{class:"mx-0 lg:mx-[40px] mb-3 h-5 p-7 justify-center items-center gap-2 inline-flex"},[e("div",{class:"text-[#3030f8] text-sm font-normal font-roboto leading-tight"},"Beranda"),e("div",{class:"w-4 h-4 relative opacity-75"},[e("img",{src:K})]),e("div",{class:"text-[#3030f8] text-sm font-normal font-roboto leading-tight"},"Lakukan Tes"),e("div",{class:"w-4 h-4 relative opacity-75"},[e("img",{src:K})]),e("div",{class:"opacity-75 text-black text-sm font-normal font-roboto leading-tight"},"Jatidiri Kesehatan Mental")],-1),se={key:1,class:"bg-white pb-[34px] mb-10"},oe={key:0,class:"fixed z-[999] inset-0 bg-gray-900 bg-opacity-60 overflow-y-auto h-full w-full px-4 modal"},ne={class:"flex flex-col justify-center items-center gap-[24px] mb-10"},le={class:"flex flex-col items-center gap-[56px]"},ie=e("div",{class:"mx-[30px] md:mx-[60px] h-auto flex-col justify-start items-start gap-4 inline-flex"},[e("span",{class:"self-stretch text-center text-black text-xl md:text-3xl font-semibold font-['Sora'] leading-9"},"Tes Kesehatan Mental"),e("span",{class:"self-stretch text-center text-black text-sm md:text-base font-normal font-['Roboto'] leading-normal"},"Pilihlah Pilih jawaban yang paling sesuai dengan kondisi anda saat ini dengan memilih jawaban pada salah satu pilihan berikut."),e("ol",{class:"self-stretch text-black text-sm md:text-base font-normal font-['Roboto'] leading-normal list-decimal list-inside",start:"0"},[e("li",null,"Sangat Tidak Sehat / Tidak Sama Sekali"),e("li",null,"Kurang Sehat / Jarang"),e("li",null,"Cukup Sehat / Kadang-kadang"),e("li",null,"Sehat / Sering"),e("li",null,"Sangat Sehat / Selalu")])],-1),re={key:0,id:"soal",class:"mx-[30px] md:mx-[60px] w-full md:w-3/4 h-auto p-9 bg-white md:rounded-3xl shadow flex flex-col gap-9"},ce=e("span",{class:"self-stretch text-center text-black text-xl md:text-3xl font-semibold font-['Sora'] leading-9"},"Pertanyaan",-1),de={key:0},ue={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},me={class:"block text-black text-sm md:text-base font-normal font-['Roboto'] leading-normal"},fe={class:"flex flex-col mx-2 mb-5"},he={class:"mt-2 flex items-center justify-center gap-4"},ge=["onClick"],be=e("div",{class:"text-white text-base font-normal font-['Roboto'] leading-normal justify-center"},"Kirim Jawaban",-1),xe=e("div",{class:"w-6 h-6 relative"},[e("img",{src:I,alt:"icon"})],-1),pe=[be,xe],_e={key:1,class:"w-[600px] h-[296px] flex flex-col justify-center items-center"},ve=e("span",{class:"flex justify-center animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14 m-auto"},null,-1),ke=[ve],we={class:"bg-white py-[46px] mb-10"},ye='Kerja yang bagus! Kamu telah menyelesaikan Tes <span class="font-bold">Kesehatan Mental</span>. Mari lihat hasilnya dan temukan lebih banyak tentang potensi diri Kamu!',Ve={__name:"Soal",emits:["refreshData"],setup(je,{emit:P}){const A=P,h=c(null),D=Y(),p=c(!1),_=c(""),M=c(!1),g=c(!1),v=c(null),E=c(""),J=c([]),m=c([]),R=async()=>{try{const t=w.get("token"),o=new FormData;o.append("refresh_user","true");const s=await y("post","login",o,t);_.value=s.data.customer.id,h.value=s.data.customer.customers_mental!=null,console.log(_.value),console.log(h.value)}catch{f.fire({icon:"error",title:"Error",text:"User",showConfirmButton:!1,timer:2e3})}finally{p.value=!1}},U=()=>{setTimeout(()=>{const t=document.getElementById("soal");t&&t.scrollIntoView({behavior:"smooth"})},100)},b=(t,o)=>m.value[t]===o,N=(t,o)=>{m.value[o]=t},V=()=>m.value.every(t=>t!=null),z=()=>{V()?f.fire({title:"Kirim jawaban sekarang?",text:"Jika belum yakin dengan jawabanmu klik tombol Cek Ulang dibawah.",icon:"question",showCancelButton:!0,cancelButtonColor:"#3b3f5c",cancelButtonText:"Cek Ulang",confirmButtonColor:"#3030f8",confirmButtonText:"Ya, kirim"}).then(async o=>{var s;if(o.isConfirmed)try{const l={customer_id:_.value,answers:m.value},i=w.get("token"),r=await y("post","customers/mental",l,i);f.fire({title:"Jawaban kamu sudah direkam",text:"Kamu bisa melihat hasil test kamu setelah ini.",icon:"success",confirmButtonColor:"#3030f8",confirmButtonText:"OK"}).then(d=>{d.isConfirmed&&(window.location.reload(),A("refreshData"))})}catch(l){console.error("Error submitting answers:",l),f.fire({icon:"error",title:"Error",text:((s=l.response)==null?void 0:s.message)||"Terjadi kesalahan saat mengirim jawaban.",showConfirmButton:!1,timer:2500})}}):f.fire({title:"Oopss Perhatikan jawabanmu",text:"Ada beberapa jawaban yang belum kamu isi",icon:"warning",showCancelButton:!1,confirmButtonColor:"#3030f8",confirmButtonText:"Cek Ulang"})},F=async(t=1)=>{g.value=!g.value;const o=w.get("token");if(o)try{const s=await y("get","mental/questions",null,o),l=s.data.data.length,i=(t-1)*l;for(let r=0;r<l;r++){const d=i+r;m.value[d]===void 0&&(m.value[d]=null)}J.value=s.data.data.map(()=>[]),v.value=s.data,E.value=s.data.next_page_url,U()}catch{f.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat mengambil data",showConfirmButton:!1,timer:2e3})}else router.push("/login"),localStorage.clear();g.value=!g.value};return L(async()=>{await F(),await R()}),(t,o)=>{const s=O("KebijakanPrivasi");return a(),n(k,null,[p.value?(a(),n("div",Z,ee)):u("",!0),Q(D)?(a(),n("div",te,[x(W)])):u("",!0),p.value?u("",!0):(a(),S(G,{key:2},{default:C(()=>[ae,h.value?(a(),S(X,{key:0,routeUrl:"user.views.hasil_jatidiri_mental",message:"Test Kesehatan Mental Selesai!",subMessage:ye})):u("",!0),h.value?u("",!0):(a(),n("section",se,[x($,{name:"fade",mode:"out-in"},{default:C(()=>[t.isKebijakanPrivasi?(a(),n("div",oe,[x(s,{onToggleKebijakanPrivasi:t.toggleKebijakanPrivasi},null,8,["onToggleKebijakanPrivasi"])])):u("",!0)]),_:1}),e("div",ne,[e("div",le,[ie,v.value?(a(),n("div",re,[ce,M.value?(a(),n("div",_e,ke)):(a(),n("div",de,[(a(!0),n(k,null,T(v.value.data,(l,i)=>(a(),n("div",ue,[e("label",me,j(i+1)+". "+j(l.question),1),e("div",fe,[e("div",he,[(a(!0),n(k,null,T(l.answers,(r,d)=>(a(),n("button",{onClick:Se=>N(r.value,i),key:d,class:B([{"bg-[#3030f8] border-[#3030f8] text-white":b(i,r.value),"border-[#667084] text-[#667084]":!b(i,r.value)},"group size-10 md:w-14 md:h-14 rounded-lg border transition-all hover:border-[#3030f8] flex-col justify-center items-center gap-2.5 inline-flex"])},[e("div",{class:B([{"text-white":b(i,r.value),"group-hover:text-[#3030f8] text-[#667084]":!b(i,r.value)},"text-[#667084] text-base md:text-2xl font-semibold font-['Roboto'] leading-loose uppercase"])},j(d),3)],10,ge))),128))])])]))),256)),e("div",{class:"mt-10 gap-2 flex flex-col md:flex-row justify-center items-center"},[e("button",{onClick:z,class:"hover:translate-x-1 hover:shadow-2xl transition-all h-11 pl-6 pr-4 py-1.5 bg-[#3030f8] rounded-full justify-center items-center gap-3 inline-flex"},pe)])]))])):u("",!0)])])])),e("section",we,[x(H)])]),_:1}))],64)}}};export{Ve as default};
