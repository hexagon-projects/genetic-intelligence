import{_ as X}from"./Layout-BXduHGGo.js";import{H as J}from"./PhCaretLeft.vue-D9T1Eo6Q.js";import{G as Q}from"./PhCaretRight.vue-DARAl1TX.js";import{I as W}from"./PhEye.vue-DCL_PPp9.js";import{G as Z}from"./PhPencilSimple.vue-DdY5R25g.js";import{_ as $,V as tt,g as et,f as d,i as ot,t as U,s as I,r as y,o as n,c as r,a as t,b as m,w as T,d as E,l as v,v as w,H as j,O as V,G as x,k,F as M,S as q,L as at}from"./index-Dthq0P5E.js";import{_ as st}from"./debounce-BfGIqxBF.js";import"./newNavbar-CpKe0X2L.js";import"./customerBottom-BcFpgPsH.js";import"./PhUser.vue-C0cTronS.js";import"./footer-BpngaeQ9.js";import"./_baseGetTag-mTY04yK9.js";const lt={name:"PengaturanSoalAssessment",components:{PhCaretLeft:J,PhCaretRight:Q,PhEye:W,PhPencilSimple:Z,PhX:tt},setup(){const S=et(),a=d(!1),g=d(!1),e=d([]),F=d(null),A=d(""),h=d(null),f=d(null),P=d(null),C=d(null),B=d(null),o=d(null),c=d(null),u=d(null),b=d(!1),_={search:"",page:""};ot(async()=>{p()});const p=async()=>{a.value=!a.value;let s="?";for(const[l,D]of Object.entries(_))s=D!=""&&D!="All"?s+="&"+l+"="+D:s;const i=U.get("token");if(i){const l=await I("get","assessments/questions"+s.replace("?&","?"),null,i);e.value=l.data.data,A.value=l.data.last_page,h.value=l.data.per_page,f.value=l.data.current_page,P.value=l.data.next_page_url,C.value=l.data.prev_page_url,B.value=l.data.from,o.value=l.data.to,c.value=l.data.total,a.value=!a.value}else S.push("/login"),localStorage.clear()},z=st(()=>{_.search=u.value!==""?u.value:"",_.page="",p()},500),G=async s=>{_.page=s.split("?page=")[1]=="1"?"":s.split("?page=")[1],p()},R=async s=>{_.page=s.split("?page=")[1]=="1"?"":s.split("?page=")[1],p()},H=s=>{L();const i=e.value.find(l=>l.id===s);F.value=i},L=()=>{b.value=!b.value},N=(s,i)=>{document.getElementById("answer_"+s+i).getAttribute("disabled")!=null?(document.getElementById("answer_"+s+i).removeAttribute("disabled"),document.getElementById("answer_"+s+i).classList.remove("bg-gray-100")):(document.getElementById("answer_"+s+i).setAttribute("disabled",!0),document.getElementById("answer_"+s+i).classList.add("bg-gray-100"))},K=s=>{q.fire({icon:"question",title:"Ubah Data Ini?",text:"Klik tombol Ya untuk merubah data.",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#0b40f4",confirmButtonText:"Ya, ubah",cancelButtonColor:"#3b3f5c",cancelButtonText:"Batal"}).then(i=>{i.isConfirmed&&O(s)})},O=async s=>{g.value=!g.value;const i=U.get("token");if(i)try{const l={question:s.question,answer_a:s.answers[0].answer,answer_b:s.answers[1].answer,answer_c:s.answers[2].answer,status:1},D=await I("put",`assessments/questions/${s.id}`,l,i);q.fire({icon:"success",title:"Berhasil",text:"Soal Assessment berhasil diubah.",showConfirmButton:!0,confirmButtonColor:"#0b40f4",confirmButtonText:"Tutup"}).then(Y=>{Y.isConfirmed&&(b.value=!1,p())})}catch{q.fire({icon:"error",title:"Terjadi Error",text:"Ada error saat merubah data Soal Assessment.",showConfirmButton:!0,confirmButtonColor:"#0b40f4",confirmButtonText:"Tutup"})}else S.push("/login"),localStorage.clear();b.value=!1,g.value=!g.value};return{loading:a,loadingSubmit:g,dataSoal:e,detailSoal:F,totalHalaman:A,itemsPerPage:h,currPage:f,nextPage:P,prevPage:C,totalDari:B,totalKe:o,totalData:c,cari:u,queryParams:_,debouncedGetSearchData:z,isModalOpen:b,clickEdit:N,saveEdit:K,toggleModal:L,modalDetail:H,nextPages:G,prevPages:R}}},nt={class:"mx-4 pt-4"},it={class:"mx-4 flex justify-start items-center text-gray-500 font-semibold"},rt=t("span",{class:"mx-2 text-base text-gray-400"},"/",-1),dt=t("span",{class:"text-gray-400 text-base"}," Pengaturan ",-1),ct=t("span",{class:"mx-2 text-base"},"/",-1),ut={key:0,class:"fixed z-[999] inset-0 bg-gray-900 bg-opacity-60 overflow-y-auto h-full w-full px-4 modal"},mt={class:"hidden lg:block relative w-3/4 top-4 mx-auto shadow-xl rounded-md bg-white"},xt=t("h1",{class:"font-myFont text-dark text-lg mx-4 pt-4"},"Detail Soal",-1),gt=t("hr",{class:"mt-4"},null,-1),ft={class:"flex flex-row"},_t={key:0,class:"w-full p-4"},ht={class:"flex flex-row"},bt={class:"w-full"},pt={class:"flex flex-row items-center gap-2 mb-4"},yt={class:"w-full"},vt={class:"flex flex-col"},wt=t("h1",{class:"font-myFont font-semibold text-dark text-sm"}," Pertanyaan : ",-1),kt={class:"flex flex-row gap-3"},St=["id"],Pt={class:"flex flex-col"},Ct={class:"font-myFont text-dark text-sm font-medium mb-1"},Bt={class:"flex flex-row gap-3"},Dt=["name","id","onUpdate:modelValue"],Et=["onClick"],Ft=t("hr",{class:"pt-4"},null,-1),At={class:"px-4 py-2 flex justify-end items-center space-x-4"},jt={class:"block lg:hidden relative w-full top-1 mx-auto shadow-xl rounded-md bg-white"},Vt=t("h1",{class:"font-myFont text-dark text-lg mx-4 pt-4"},"Detail Soal",-1),qt=t("hr",{class:"mt-4"},null,-1),Tt={key:0,class:"flex flex-col items-center justify-center w-full"},Lt=t("span",{class:"mx-auto animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14"},null,-1),Ut=[Lt],It={key:1},Mt={class:"flex flex-row items-center gap-2 mb-4"},zt={class:"w-full"},Gt={class:"flex flex-col"},Rt=t("h1",{class:"font-myFont font-semibold text-dark text-sm"}," Pertanyaan : ",-1),Ht={class:"flex flex-row gap-3"},Nt=["id"],Kt={class:"flex flex-col"},Ot={class:"font-myFont text-dark text-sm font-medium mb-1"},Yt={class:"flex flex-row gap-3"},Xt=["name","id","onUpdate:modelValue"],Jt=["onClick"],Qt=t("hr",{class:"pt-4"},null,-1),Wt={class:"px-4 py-2 flex justify-between items-center space-x-4"},Zt={class:"flex flex-col lg:flex-row justify-center mx-4 mb-4 pt-4 pb-10 gap-4"},$t={class:"w-full px-7 mx-auto"},te={class:"flex flex-col bg-white w-full p-6 rounded-lg shadow-lg"},ee=t("h1",{class:"font-myFont text-dark text-lg mb-4"},"List Soal Assessment",-1),oe={class:"flex flex-col md:flex-row md:items-center md:justify-between lg:flex-row lg:items-center lg:justify-end mb-3"},ae={key:0,class:"flex justify-center w-full"},se=t("span",{class:"mx-auto animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14"},null,-1),le=[se],ne={key:1,class:"overflow-x-auto"},ie={class:"w-full text-sm text-left text-gray-500"},re=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"py-3 px-6"},"No"),t("th",{scope:"col",class:"py-3 px-6"},"Pertanyaan"),t("th",{scope:"col",class:"py-3 px-6"},"Detail Pilihan")])],-1),de={class:"py-4 px-6"},ce={class:"py-4 px-6"},ue={class:"py-4 px-6"},me=["onClick"],xe={key:2,class:"font-myFont text-center text-dark text-lg mt-7"},ge={class:"flex justify-between items-center mt-4"},fe={class:"font-myFont text-xs md:text-sm lg:text-sm text-start lg:text-center text-dark"},_e={class:"flex items-center font-myFont text-dark text-xs lg:text-base"},he={class:"mx-2 flex items-center gap-1"},be={class:"px-2 py-1 border rounded-lg"};function pe(S,a,g,e,F,A){const h=y("RouterLink"),f=y("PhPencilSimple"),P=y("PhEye"),C=y("PhCaretLeft"),B=y("PhCaretRight");return n(),r("section",{class:M(["bg-gray-100 pb-10",{"lg:pb-28":e.dataSoal.length==0,"lg:pb-7":e.dataSoal.length>0}])},[t("div",nt,[t("ol",it,[m(h,{to:{name:"views.dashboard"},class:"text-gray-400 hover:text-dark text-base"},{default:T(()=>[E(" Beranda ")]),_:1},8,["to"]),rt,dt,ct,m(h,{to:{name:"admin.views.pengaturan_soal_assessment"},class:"text-base text-dark hover:text-dark/70"},{default:T(()=>[E(" Pengaturan Soal Assessment ")]),_:1},8,["to"])])]),e.isModalOpen&&e.detailSoal?(n(),r("div",ut,[t("div",mt,[xt,gt,t("div",ft,[e.detailSoal?(n(),r("div",_t,[t("div",ht,[t("div",bt,[t("div",pt,[t("div",yt,[t("div",vt,[wt,t("div",kt,[v(t("input",{type:"text",class:"appearance-none block w-full bg-gray-100 text-gray-700 border border-gray-200 rounded py-2 px-2 leading-tight focus:outline-none focus:bg-white focus:border-biru",id:"answer_"+e.detailSoal.id,"onUpdate:modelValue":a[0]||(a[0]=o=>e.detailSoal.question=o),disabled:""},null,8,St),[[w,e.detailSoal.question]]),t("button",{onClick:a[1]||(a[1]=o=>e.clickEdit(e.detailSoal.id,"")),class:"flex items-center gap-1 px-2 py-2 bg-biru font-myFont text-sm text-white rounded-md hover:bg-opacity-75 hover:shadow-lg"},[m(f,{size:22})])])])])]),(n(!0),r(j,null,V(e.detailSoal.answers,(o,c)=>(n(),r("div",{key:c,class:"w-full mb-4"},[t("div",Pt,[t("h1",Ct," Pilihan "+x(o.value.toUpperCase()),1),t("div",Bt,[v(t("input",{type:"text",class:"appearance-none block w-full bg-gray-100 text-gray-700 border border-gray-200 rounded py-2 px-2 leading-tight focus:outline-none focus:bg-white focus:border-biru",name:"answer_"+o.value,id:"answer_"+e.detailSoal.id+o.value,"onUpdate:modelValue":u=>e.detailSoal.answers[c].answer=u,disabled:""},null,8,Dt),[[w,e.detailSoal.answers[c].answer]]),t("button",{onClick:u=>e.clickEdit(e.detailSoal.id,o.value),class:"flex items-center gap-1 px-2 py-2 bg-biru font-myFont text-sm text-white rounded-md hover:bg-opacity-75 hover:shadow-lg"},[m(f,{size:22})],8,Et)])])]))),128))])])])):k("",!0)]),Ft,t("div",At,[t("button",{class:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-700 transition",onClick:a[2]||(a[2]=o=>e.saveEdit(e.detailSoal))},"Simpan"),t("button",{class:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",onClick:a[3]||(a[3]=(...o)=>e.toggleModal&&e.toggleModal(...o))},"Tutup")])]),t("div",jt,[Vt,qt,e.detailSoal?(n(),r("div",{key:0,class:M([{"h-[460px] flex flex-col justify-center":e.loadingSubmit},"w-full p-4 mx-auto max-h-[460px] overflow-y-scroll"])},[e.loadingSubmit?(n(),r("div",Tt,Ut)):e.loadingSubmit?k("",!0):(n(),r("div",It,[t("div",Mt,[t("div",zt,[t("div",Gt,[Rt,t("div",Ht,[v(t("input",{type:"text",class:"appearance-none block w-full bg-gray-100 text-gray-700 border border-gray-200 rounded py-2 px-2 leading-tight focus:outline-none focus:bg-white focus:border-biru",id:"answer_"+e.detailSoal.id,"onUpdate:modelValue":a[4]||(a[4]=o=>e.detailSoal.question=o),disabled:""},null,8,Nt),[[w,e.detailSoal.question]]),t("button",{onClick:a[5]||(a[5]=o=>e.clickEdit(e.detailSoal.id,"")),class:"flex items-center gap-1 px-2 py-2 bg-biru font-myFont text-sm text-white rounded-md hover:bg-opacity-75 hover:shadow-lg"},[m(f,{size:22})])])])])]),(n(!0),r(j,null,V(e.detailSoal.answers,(o,c)=>(n(),r("div",{key:c,class:"w-full mb-4"},[t("div",Kt,[t("h1",Ot," Pilihan "+x(o.value.toUpperCase()),1),t("div",Yt,[v(t("input",{type:"text",class:"appearance-none block w-full bg-gray-100 text-gray-700 border border-gray-200 rounded py-2 px-2 leading-tight focus:outline-none focus:bg-white focus:border-biru",name:"answer_"+o.value,id:"answer_"+e.detailSoal.id+o.value,"onUpdate:modelValue":u=>e.detailSoal.answers[c].answer=u,disabled:""},null,8,Xt),[[w,e.detailSoal.answers[c].answer]]),t("button",{onClick:u=>e.clickEdit(e.detailSoal.id,o.value),class:"flex items-center gap-1 px-2 py-2 bg-biru font-myFont text-sm text-white rounded-md hover:bg-opacity-75 hover:shadow-lg"},[m(f,{size:22})],8,Jt)])])]))),128))]))],2)):k("",!0),Qt,t("div",Wt,[t("button",{class:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-700 transition",onClick:a[6]||(a[6]=o=>e.saveEdit(e.detailSoal))},"Simpan"),t("button",{class:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",onClick:a[7]||(a[7]=(...o)=>e.toggleModal&&e.toggleModal(...o))},"Tutup")])])])):k("",!0),t("div",Zt,[t("div",$t,[t("div",te,[ee,t("div",oe,[v(t("input",{"onUpdate:modelValue":a[8]||(a[8]=o=>e.cari=o),onInput:a[9]||(a[9]=o=>e.debouncedGetSearchData()),type:"text",name:"cari",class:"font-myFont rounded-md border border-gray-300 py-2 px-3",placeholder:"Cari Data"},null,544),[[w,e.cari]])]),e.loading?(n(),r("div",ae,le)):e.dataSoal.length>0&&!e.loading?(n(),r("div",ne,[t("table",ie,[re,t("tbody",null,[(n(!0),r(j,null,V(e.dataSoal,(o,c)=>(n(),r("tr",{key:c,class:"bg-white border-b"},[t("td",de,x((e.currPage-1)*e.itemsPerPage+c+1),1),t("td",ce,x(o.question),1),t("td",ue,[t("button",{onClick:u=>e.modalDetail(o.id),class:"flex items-center gap-1 px-4 py-2 bg-biru font-myFont text-sm text-white rounded-lg hover:bg-opacity-75 hover:shadow-lg"},[m(P,{size:22})],8,me)])]))),128))])])])):e.dataSoal.length==0&&!e.loading?(n(),r("span",xe,"Data kosong")):k("",!0),t("div",ge,[t("span",fe,x(e.totalDari==null?0:e.totalDari)+" sampai "+x(e.totalKe==null?0:e.totalKe)+" dari "+x(e.totalData)+" data. ",1),t("a",_e,[E(" Halaman "),t("div",he,[t("a",{onClick:a[10]||(a[10]=o=>e.prevPages(e.prevPage)),class:"cursor-pointer text-sm md:text-base lg:text-xl text-dark text-opacity-70 hover:text-opacity-100 hover:shadow-sm"},[m(C)]),t("span",be,x(e.currPage),1),t("a",{onClick:a[11]||(a[11]=o=>e.nextPages(e.nextPage)),class:"cursor-pointer text-sm md:text-base lg:text-xl text-dark text-opacity-70 hover:text-opacity-100 hover:shadow-sm"},[m(B)])]),E(" Dari "+x(e.totalHalaman),1)])])])])])],2)}const ye=$(lt,[["render",pe]]),Ve={__name:"SoalAssessment",setup(S){return(a,g)=>(n(),at(X,null,{default:T(()=>[m(ye)]),_:1}))}};export{Ve as default};
