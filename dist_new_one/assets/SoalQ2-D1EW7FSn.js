import{f as c,i as F,r as I,c as n,k as d,p as L,b as g,L as S,w as T,H as k,t as y,s as w,S as f,o as a,T as O,a as e,O as B,G as j,F as P}from"./index-Dthq0P5E.js";import{_ as C}from"./chevron_forward-N6bkwtOy.js";import{_ as $}from"./chevron_right-ClIhfjI9.js";import{_ as q}from"./Layout-B-iEbMYB.js";import{R as G}from"./Reservasi-DSXqCmKX.js";import{c as H}from"./cekProfile-BiJHQP7D.js";import{_ as Y}from"./modalCekProfile-Cy3hIFsF.js";import{S as W}from"./SelesaiTest-0hQMnsJq.js";import"./PhWarning.vue-C0pCjHXV.js";import"./gradient-BrkKDYIY.js";import"./selesai-cpm-B8q2160b.js";import"./arrow-go-biru-CWElls4u.js";/* empty css                                                                    */const X={key:0,class:"preloader-overlay"},Z=e("span",{class:"flex justify-center animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14 m-auto"},null,-1),ee=[Z],te={key:1},ae=e("div",{class:"mx-0 lg:mx-[40px] mb-3 h-5 p-7 justify-center items-center gap-2 inline-flex"},[e("div",{class:"text-[#3030f8] text-sm font-normal font-roboto leading-tight"}," Beranda "),e("div",{class:"w-4 h-4 relative opacity-75"},[e("img",{src:C})]),e("div",{class:"text-[#3030f8] text-sm font-normal font-roboto leading-tight"}," Lakukan Tes "),e("div",{class:"w-4 h-4 relative opacity-75"},[e("img",{src:C})]),e("div",{class:"text-[#3030f8] text-sm font-normal font-roboto leading-tight"}," Jatidiri "),e("div",{class:"w-4 h-4 relative opacity-75"},[e("img",{src:C})]),e("div",{class:"opacity-75 text-black text-sm font-normal font-roboto leading-tight"}," Q2 ")],-1),se={key:1,class:"bg-white pb-[34px] mb-10"},oe={key:0,class:"fixed z-[999] inset-0 bg-gray-900 bg-opacity-60 overflow-y-auto h-full w-full px-4 modal"},ne={class:"flex flex-col justify-center items-center gap-[24px] mb-10"},ie={class:"flex flex-col items-center gap-[56px]"},le=e("div",{class:"mx-[30px] md:mx-[60px] h-auto flex-col justify-start items-start gap-4 inline-flex"},[e("span",{class:"self-stretch text-center text-black text-xl md:text-3xl font-semibold font-['Sora'] leading-9"},"Tes Jatidiri Q2"),e("span",{class:"self-stretch text-center text-black text-sm md:text-base font-normal font-['Roboto'] leading-normal"},"Pilihlah Pilih jawaban yang paling sesuai dengan kondisi anda saat ini dengan memilih jawaban pada salah satu pilihan berikut."),e("div",{class:"perposed"},[e("ol",{class:"list-decimal list-inside"},[e("li",null,"Sangat Tidak Sesuai"),e("li",null,"Tidak Sesuai"),e("li",null,"Netral"),e("li",null,"Sesuai"),e("li",null,"Sangat Sesuai")])])],-1),re={key:0,id:"soal",class:"mx-[30px] md:mx-[60px] w-full h-auto p-9 bg-white rounded-3xl shadow flex flex-col gap-9"},ce=e("span",{class:"self-stretch text-center text-black text-xl md:text-3xl font-semibold font-['Sora'] leading-9"},"Pertanyaan",-1),de={key:0},ue={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},me={class:"block text-black text-sm md:text-base font-normal font-['Roboto'] leading-normal"},fe={class:"flex flex-col mx-2 mb-5"},he={class:"mt-2 flex items-center justify-center gap-4"},pe=["onClick"],xe=e("div",{class:"text-white text-base font-normal font-['Roboto'] leading-normal justify-center"}," Kirim Jawaban ",-1),ge=e("div",{class:"w-6 h-6 relative"},[e("img",{src:$,alt:"icon"})],-1),be=[xe,ge],_e={key:1,class:"w-[600px] h-[296px] flex flex-col justify-center items-center"},ve=e("span",{class:"flex justify-center animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14 m-auto"},null,-1),ke=[ve],ye={class:"bg-white py-[46px] mb-10"},we='Kerja yang bagus! Kamu telah menyelesaikan Tes <span class="font-bold">Jatidiri Q2</span>. Mari lihat hasilnya dan temukan lebih banyak tentang potensi diri Kamu!',Me={__name:"SoalQ2",emits:["refreshData"],setup(je,{emit:K}){const A=K,h=c(null),D=H(),b=c(!1),_=c(""),J=c(!1),p=c(!1),v=c(null),Q=c(""),E=c([]),u=c([]),R=async()=>{try{const t=y.get("token"),o=new FormData;o.append("refresh_user","true");const s=await w("post","login",o,t);_.value=s.data.customer.id,h.value=s.data.customer.customers_q2!=null,console.log(_.value),console.log(h.value)}catch{f.fire({icon:"error",title:"Error",text:"User",showConfirmButton:!1,timer:2e3})}finally{b.value=!1}},U=()=>{setTimeout(()=>{const t=document.getElementById("soal");t&&t.scrollIntoView({behavior:"smooth"})},100)},x=(t,o)=>u.value[t]===o,N=(t,o)=>{u.value[o]=t},M=()=>u.value.every(t=>t!=null),V=()=>{M()?f.fire({title:"Kirim jawaban sekarang?",text:"Jika belum yakin dengan jawabanmu klik tombol Cek Ulang dibawah.",icon:"question",showCancelButton:!0,cancelButtonColor:"#3b3f5c",cancelButtonText:"Cek Ulang",confirmButtonColor:"#3030f8",confirmButtonText:"Ya, kirim"}).then(async o=>{var s;if(o.isConfirmed)try{const l={customer_id:_.value,answers:u.value},r=y.get("token"),i=await w("post","customers/q2",l,r);f.fire({title:"Jawaban kamu sudah direkam",text:"Kamu bisa melihat hasil test kamu setelah ini.",icon:"success",confirmButtonColor:"#3030f8",confirmButtonText:"OK"}).then(m=>{m.isConfirmed&&(window.location.reload(),A("refreshData"))})}catch(l){console.error("Error submitting answers:",l),f.fire({icon:"error",title:"Error",text:((s=l.response)==null?void 0:s.message)||"Terjadi kesalahan saat mengirim jawaban.",showConfirmButton:!1,timer:2500})}}):f.fire({title:"Oopss Perhatikan jawabanmu",text:"Ada beberapa jawaban yang belum kamu isi",icon:"warning",showCancelButton:!1,confirmButtonColor:"#3030f8",confirmButtonText:"Cek Ulang"})},z=async(t=1)=>{p.value=!p.value;const o=y.get("token");if(o)try{const s=await w("get","q2/questions",null,o),l=s.data.data.length,r=(t-1)*l;for(let i=0;i<l;i++){const m=r+i;u.value[m]===void 0&&(u.value[m]=null)}E.value=s.data.data.map(()=>[]),v.value=s.data,Q.value=s.data.next_page_url,U()}catch{f.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat mengambil data",showConfirmButton:!1,timer:2e3})}else router.push("/login"),localStorage.clear();p.value=!p.value};return F(async()=>{await z(),await R()}),(t,o)=>{const s=I("KebijakanPrivasi");return a(),n(k,null,[b.value?(a(),n("div",X,ee)):d("",!0),L(D)?(a(),n("div",te,[g(Y)])):d("",!0),b.value?d("",!0):(a(),S(q,{key:2},{default:T(()=>[ae,h.value?(a(),S(W,{key:0,routeUrl:"user.views.hasil_jatidiri_q2",message:"Test Jatidiri Q2 Selesai!",subMessage:we})):d("",!0),h.value?d("",!0):(a(),n("section",se,[g(O,{name:"fade",mode:"out-in"},{default:T(()=>[t.isKebijakanPrivasi?(a(),n("div",oe,[g(s,{onToggleKebijakanPrivasi:t.toggleKebijakanPrivasi},null,8,["onToggleKebijakanPrivasi"])])):d("",!0)]),_:1}),e("div",ne,[e("div",ie,[le,v.value?(a(),n("div",re,[ce,J.value?(a(),n("div",_e,ke)):(a(),n("div",de,[(a(!0),n(k,null,B(v.value.data,(l,r)=>(a(),n("div",ue,[e("label",me,j(r+1)+". "+j(l.question),1),e("div",fe,[e("div",he,[(a(!0),n(k,null,B(l.answers,(i,m)=>(a(),n("button",{onClick:Ce=>N(i.value,r),key:m,class:P([{"bg-[#3030f8] border-[#3030f8] text-white":x(r,i.value),"border-[#667084] text-[#667084]":!x(r,i.value)},"group size-10 md:w-14 md:h-14 rounded-lg border transition-all hover:border-[#3030f8] flex-col justify-center items-center gap-2.5 inline-flex"])},[e("div",{class:P([{"text-white":x(r,i.value),"group-hover:text-[#3030f8] text-[#667084]":!x(r,i.value)},"text-[#667084] text-base md:text-2xl font-semibold font-['Roboto'] leading-loose uppercase"])},j(i.value),3)],10,pe))),128))])])]))),256)),e("div",{class:"mt-10 gap-2 flex flex-col md:flex-row justify-center items-center"},[e("button",{onClick:V,class:"hover:translate-x-1 hover:shadow-2xl transition-all h-11 pl-6 pr-4 py-1.5 bg-[#3030f8] rounded-full justify-center items-center gap-3 inline-flex"},be)])]))])):d("",!0)])])])),e("section",ye,[g(G)])]),_:1}))],64)}}};export{Me as default};
