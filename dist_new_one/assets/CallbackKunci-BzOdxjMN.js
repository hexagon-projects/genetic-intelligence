import{h as c,g as r,i as d,A as a,c as u,o as p,a as l}from"./index-Dthq0P5E.js";const _=l("p",null,"Memproses login...",-1),k=[_],f={__name:"CallbackKunci",setup(g){const n=c();return r(),d(async()=>{const t=n.query.code,e=localStorage.getItem("code_verifier");if(t&&e)try{const s=(await a.post("https://api-staging.jatidiri.app/api/auth/kunci/token",{code_verifier:e})).data.token,i=await a.post("https://api-staging.jatidiri.app/api/auth/kunci/bind",{school_id:"01j523trdnjsgcwt3c42swhq4t",identifier:"2425011",secret:"123",type:"student",token:s});console.log("Bind success:",i.data),localStorage.setItem("kunci_token",s)}catch(o){console.error("Error during SSO:",o)}}),(t,e)=>(p(),u("div",null,k))}};export{f as default};
