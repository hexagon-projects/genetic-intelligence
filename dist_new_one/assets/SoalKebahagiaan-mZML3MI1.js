import{f as c,i as F,r as H,c as n,k as d,p as L,b as x,L as T,w as C,H as k,t as y,s as w,S as f,o as a,T as O,a as e,O as B,G as j,F as S}from"./index-Dthq0P5E.js";import{_ as P}from"./chevron_forward-N6bkwtOy.js";import{_ as Q}from"./chevron_right-ClIhfjI9.js";import{_ as $}from"./Layout-B-iEbMYB.js";import{R as G}from"./Reservasi-DSXqCmKX.js";import{c as Y}from"./cekProfile-BiJHQP7D.js";import{_ as W}from"./modalCekProfile-Cy3hIFsF.js";import{S as X}from"./SelesaiTest-0hQMnsJq.js";import"./PhWarning.vue-C0pCjHXV.js";import"./gradient-BrkKDYIY.js";import"./selesai-cpm-B8q2160b.js";import"./arrow-go-biru-CWElls4u.js";/* empty css                                                                    */const Z={key:0,class:"preloader-overlay"},q=e("span",{class:"flex justify-center animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14 m-auto"},null,-1),ee=[q],te={key:1},ae=e("div",{class:"mx-0 lg:mx-[40px] mb-3 h-5 p-7 justify-center items-center gap-2 inline-flex"},[e("div",{class:"text-[#3030f8] text-sm font-normal font-roboto leading-tight"},"Beranda"),e("div",{class:"w-4 h-4 relative opacity-75"},[e("img",{src:P})]),e("div",{class:"text-[#3030f8] text-sm font-normal font-roboto leading-tight"},"Lakukan Tes"),e("div",{class:"w-4 h-4 relative opacity-75"},[e("img",{src:P})]),e("div",{class:"opacity-75 text-black text-sm font-normal font-roboto leading-tight"},"Jatidiri Bahagia")],-1),se={key:1,class:"bg-white pb-[34px] mb-10"},oe={key:0,class:"fixed z-[999] inset-0 bg-gray-900 bg-opacity-60 overflow-y-auto h-full w-full px-4 modal"},ne={class:"flex flex-col justify-center items-center gap-[24px] mb-10"},ie={class:"flex flex-col items-center gap-[56px]"},le=e("div",{class:"mx-[30px] md:mx-[60px] h-auto flex-col justify-start items-start gap-4 inline-flex"},[e("span",{class:"self-stretch text-center text-black text-xl md:text-3xl font-semibold font-['Sora'] leading-9"},"Tes Index Kebahagiaan"),e("span",{class:"self-stretch text-center text-black text-sm md:text-base font-normal font-['Roboto'] leading-normal"},"Pilihlah Pilih jawaban yang paling sesuai dengan kondisi anda saat ini dengan memilih jawaban pada salah satu pilihan berikut."),e("ol",{class:"self-stretch text-black text-sm md:text-base font-normal font-['Roboto'] leading-normal"},[e("li",null,"1. Sangat Jarang (Hampir Tidak Pernah)"),e("li",null,"2. Jarang (Terkadang Terjadi)"),e("li",null,"3. Kadang - kadang (Sering terjadi, tapi tidak selalu)"),e("li",null,"4. Sering (Biasa Terjadi)"),e("li",null,"5. Selalu (Hampir Selalu Terjadi)")])],-1),re={key:0,id:"soal",class:"mx-[30px] md:mx-[60px] w-full h-auto p-9 bg-white rounded-3xl shadow flex flex-col gap-9"},ce=e("span",{class:"self-stretch text-center text-black text-xl md:text-3xl font-semibold font-['Sora'] leading-9"},"Pertanyaan",-1),de={key:0},ue={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},me={class:"block text-black text-sm md:text-base font-normal font-['Roboto'] leading-normal"},fe={class:"flex flex-col mx-2 mb-5"},he={class:"mt-2 flex items-center justify-center gap-4"},ge=["onClick"],be=e("div",{class:"text-white text-base font-normal font-['Roboto'] leading-normal justify-center"},"Kirim Jawaban",-1),xe=e("div",{class:"w-6 h-6 relative"},[e("img",{src:Q,alt:"icon"})],-1),pe=[be,xe],_e={key:1,class:"w-[600px] h-[296px] flex flex-col justify-center items-center"},ve=e("span",{class:"flex justify-center animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14 m-auto"},null,-1),ke=[ve],ye={class:"bg-white py-[46px] mb-10"},we='Kerja yang bagus! Kamu telah menyelesaikan Tes <span class="font-bold">Index Kebahagiaan</span>. Mari lihat hasilnya dan temukan lebih banyak tentang potensi diri Kamu!',Ne={__name:"SoalKebahagiaan",emits:["refreshData"],setup(je,{emit:K}){const A=K,h=c(null),D=Y(),p=c(!1),_=c(""),J=c(!1),g=c(!1),v=c(null),E=c(""),R=c([]),u=c([]),I=async()=>{try{const t=y.get("token"),o=new FormData;o.append("refresh_user","true");const s=await w("post","login",o,t);_.value=s.data.customer.id,h.value=s.data.customer.customers_tik!=null,console.log(_.value),console.log(h.value)}catch{f.fire({icon:"error",title:"Error",text:"User",showConfirmButton:!1,timer:2e3})}finally{p.value=!1}},U=()=>{setTimeout(()=>{const t=document.getElementById("soal");t&&t.scrollIntoView({behavior:"smooth"})},100)},b=(t,o)=>u.value[t]===o,M=(t,o)=>{u.value[o]=t},N=()=>u.value.every(t=>t!=null),V=()=>{N()?f.fire({title:"Kirim jawaban sekarang?",text:"Jika belum yakin dengan jawabanmu klik tombol Cek Ulang dibawah.",icon:"question",showCancelButton:!0,cancelButtonColor:"#3b3f5c",cancelButtonText:"Cek Ulang",confirmButtonColor:"#3030f8",confirmButtonText:"Ya, kirim"}).then(async o=>{var s;if(o.isConfirmed)try{const l={customer_id:_.value,answers:u.value},r=y.get("token"),i=await w("post","customers/tik",l,r);f.fire({title:"Jawaban kamu sudah direkam",text:"Kamu bisa melihat hasil test kamu setelah ini.",icon:"success",confirmButtonColor:"#3030f8",confirmButtonText:"OK"}).then(m=>{m.isConfirmed&&(window.location.reload(),A("refreshData"))})}catch(l){console.error("Error submitting answers:",l),f.fire({icon:"error",title:"Error",text:((s=l.response)==null?void 0:s.message)||"Terjadi kesalahan saat mengirim jawaban.",showConfirmButton:!1,timer:2500})}}):f.fire({title:"Oopss Perhatikan jawabanmu",text:"Ada beberapa jawaban yang belum kamu isi",icon:"warning",showCancelButton:!1,confirmButtonColor:"#3030f8",confirmButtonText:"Cek Ulang"})},z=async(t=1)=>{g.value=!g.value;const o=y.get("token");if(o)try{const s=await w("get","tik/questions",null,o),l=s.data.data.length,r=(t-1)*l;for(let i=0;i<l;i++){const m=r+i;u.value[m]===void 0&&(u.value[m]=null)}R.value=s.data.data.map(()=>[]),v.value=s.data,E.value=s.data.next_page_url,U()}catch{f.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat mengambil data",showConfirmButton:!1,timer:2e3})}else router.push("/login"),localStorage.clear();g.value=!g.value};return F(async()=>{await z(),await I()}),(t,o)=>{const s=H("KebijakanPrivasi");return a(),n(k,null,[p.value?(a(),n("div",Z,ee)):d("",!0),L(D)?(a(),n("div",te,[x(W)])):d("",!0),p.value?d("",!0):(a(),T($,{key:2},{default:C(()=>[ae,h.value?(a(),T(X,{key:0,routeUrl:"user.views.hasil_bahagia",message:"Test Index Kebahagiaan Selesai!",subMessage:we})):d("",!0),h.value?d("",!0):(a(),n("section",se,[x(O,{name:"fade",mode:"out-in"},{default:C(()=>[t.isKebijakanPrivasi?(a(),n("div",oe,[x(s,{onToggleKebijakanPrivasi:t.toggleKebijakanPrivasi},null,8,["onToggleKebijakanPrivasi"])])):d("",!0)]),_:1}),e("div",ne,[e("div",ie,[le,v.value?(a(),n("div",re,[ce,J.value?(a(),n("div",_e,ke)):(a(),n("div",de,[(a(!0),n(k,null,B(v.value.data,(l,r)=>(a(),n("div",ue,[e("label",me,j(r+1)+". "+j(l.question),1),e("div",fe,[e("div",he,[(a(!0),n(k,null,B(l.answers,(i,m)=>(a(),n("button",{onClick:Te=>M(i.value,r),key:m,class:S([{"bg-[#3030f8] border-[#3030f8] text-white":b(r,i.value),"border-[#667084] text-[#667084]":!b(r,i.value)},"group size-10 md:w-14 md:h-14 rounded-lg border transition-all hover:border-[#3030f8] flex-col justify-center items-center gap-2.5 inline-flex"])},[e("div",{class:S([{"text-white":b(r,i.value),"group-hover:text-[#3030f8] text-[#667084]":!b(r,i.value)},"text-[#667084] text-base md:text-2xl font-semibold font-['Roboto'] leading-loose uppercase"])},j(i.value),3)],10,ge))),128))])])]))),256)),e("div",{class:"mt-10 gap-2 flex flex-col md:flex-row justify-center items-center"},[e("button",{onClick:V,class:"hover:translate-x-1 hover:shadow-2xl transition-all h-11 pl-6 pr-4 py-1.5 bg-[#3030f8] rounded-full justify-center items-center gap-3 inline-flex"},pe)])]))])):d("",!0)])])])),e("section",ye,[x(G)])]),_:1}))],64)}}};export{Ne as default};
