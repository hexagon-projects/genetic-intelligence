import{f as c,i as V,r as z,c as n,k as d,p as I,b as g,L as C,w as T,H as k,t as y,s as w,S as f,o as a,T as O,a as e,O as B,G as j,F as P}from"./index-Dthq0P5E.js";import{_ as S}from"./chevron_forward-N6bkwtOy.js";import{_ as $}from"./chevron_right-ClIhfjI9.js";import{_ as H}from"./Layout-B-iEbMYB.js";import{R as Y}from"./Reservasi-DSXqCmKX.js";import{c as G}from"./cekProfile-BiJHQP7D.js";import{_ as W}from"./modalCekProfile-Cy3hIFsF.js";import{S as X}from"./SelesaiTest-0hQMnsJq.js";import"./PhWarning.vue-C0pCjHXV.js";import"./gradient-BrkKDYIY.js";import"./selesai-cpm-B8q2160b.js";import"./arrow-go-biru-CWElls4u.js";/* empty css                                                                    */const Z={key:0,class:"preloader-overlay"},q=e("span",{class:"flex justify-center animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14 m-auto"},null,-1),ee=[q],te={key:1},ae=e("div",{class:"mx-0 lg:mx-[40px] mb-3 h-5 p-7 justify-center items-center gap-2 inline-flex"},[e("div",{class:"text-[#3030f8] text-sm font-normal font-roboto leading-tight"},"Beranda"),e("div",{class:"w-4 h-4 relative opacity-75"},[e("img",{src:S})]),e("div",{class:"text-[#3030f8] text-sm font-normal font-roboto leading-tight"},"Lakukan Tes"),e("div",{class:"w-4 h-4 relative opacity-75"},[e("img",{src:S})]),e("div",{class:"opacity-75 text-black text-sm font-normal font-roboto leading-tight"},"Jatidiri Anxiety")],-1),se={key:1,class:"bg-white pb-[34px] mb-10"},oe={key:0,class:"fixed z-[999] inset-0 bg-gray-900 bg-opacity-60 overflow-y-auto h-full w-full px-4 modal"},ne={class:"flex flex-col justify-center items-center gap-[24px] mb-10"},ie={class:"flex flex-col items-center gap-[56px]"},le=e("div",{class:"mx-[30px] md:mx-[60px] h-auto flex-col justify-start items-start gap-4 inline-flex"},[e("span",{class:"self-stretch text-center text-black text-xl md:text-3xl font-semibold font-['Sora'] leading-9"},"Tes Anxiety"),e("span",{class:"self-stretch text-center text-black text-sm md:text-base font-normal font-['Roboto'] leading-normal"},"Pilihlah Pilih jawaban yang paling sesuai dengan kondisi anda saat ini dengan memilih jawaban pada salah satu pilihan berikut."),e("ol",{class:"self-stretch text-black text-sm md:text-base font-normal font-['Roboto'] leading-normal list-decimal list-inside",start:"0"},[e("li",null,"Tidak Pernah (Never)"),e("li",null,"Kadang - kadang (Sometimes)"),e("li",null,"Setengah Waktu (Half Time)"),e("li",null,"Sering (FREQUENTLY)"),e("li",null,"Selalu (Always)")])],-1),re={key:0,id:"soal",class:"mx-[30px] md:mx-[60px] w-full md:w-3/4 h-auto p-9 bg-white md:rounded-3xl shadow flex flex-col gap-9"},ce=e("span",{class:"self-stretch text-center text-black text-xl md:text-3xl font-semibold font-['Sora'] leading-9"},"Pertanyaan",-1),de={key:0},ue={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},me={class:"block text-black text-sm md:text-base font-normal font-['Roboto'] leading-normal"},fe={class:"flex flex-col mx-2 mb-5"},xe={class:"mt-2 flex items-center justify-center gap-4"},he=["onClick"],be=e("div",{class:"text-white text-base font-normal font-['Roboto'] leading-normal justify-center"},"Kirim Jawaban",-1),ge=e("div",{class:"w-6 h-6 relative"},[e("img",{src:$,alt:"icon"})],-1),pe=[be,ge],_e={key:1,class:"w-[600px] h-[296px] flex flex-col justify-center items-center"},ve=e("span",{class:"flex justify-center animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14 m-auto"},null,-1),ke=[ve],ye={class:"bg-white py-[46px] mb-10"},we='Kerja yang bagus! Kamu telah menyelesaikan Tes <span class="font-bold">Anxiety</span>. Mari lihat hasilnya dan temukan lebih banyak tentang potensi diri Kamu!',Le={__name:"Soal",emits:["refreshData"],setup(je,{emit:A}){const K=A,x=c(null),D=G(),p=c(!1),_=c(""),E=c(!1),h=c(!1),v=c(null),R=c(""),U=c([]),u=c([]),J=async()=>{try{const t=y.get("token"),o=new FormData;o.append("refresh_user","true");const s=await w("post","login",o,t);_.value=s.data.customer.id,x.value=s.data.customer.customers_anxiety!=null,console.log(_.value),console.log(x.value)}catch{f.fire({icon:"error",title:"Error",text:"User",showConfirmButton:!1,timer:2e3})}finally{p.value=!1}},N=()=>{setTimeout(()=>{const t=document.getElementById("soal");t&&t.scrollIntoView({behavior:"smooth"})},100)},b=(t,o)=>u.value[t]===o,F=(t,o)=>{u.value[o]=t},L=()=>u.value.every(t=>t!=null),M=()=>{L()?f.fire({title:"Kirim jawaban sekarang?",text:"Jika belum yakin dengan jawabanmu klik tombol Cek Ulang dibawah.",icon:"question",showCancelButton:!0,cancelButtonColor:"#3b3f5c",cancelButtonText:"Cek Ulang",confirmButtonColor:"#3030f8",confirmButtonText:"Ya, kirim"}).then(async o=>{var s;if(o.isConfirmed)try{const l={customer_id:_.value,answers:u.value},r=y.get("token"),i=await w("post","customers/anxiety",l,r);f.fire({title:"Jawaban kamu sudah direkam",text:"Kamu bisa melihat hasil test kamu setelah ini.",icon:"success",confirmButtonColor:"#3030f8",confirmButtonText:"OK"}).then(m=>{m.isConfirmed&&(window.location.reload(),K("refreshData"))})}catch(l){console.error("Error submitting answers:",l),f.fire({icon:"error",title:"Error",text:((s=l.response)==null?void 0:s.message)||"Terjadi kesalahan saat mengirim jawaban.",showConfirmButton:!1,timer:2500})}}):f.fire({title:"Oopss Perhatikan jawabanmu",text:"Ada beberapa jawaban yang belum kamu isi",icon:"warning",showCancelButton:!1,confirmButtonColor:"#3030f8",confirmButtonText:"Cek Ulang"})},Q=async(t=1)=>{h.value=!h.value;const o=y.get("token");if(o)try{const s=await w("get","anxiety/questions",null,o),l=s.data.data.length,r=(t-1)*l;for(let i=0;i<l;i++){const m=r+i;u.value[m]===void 0&&(u.value[m]=null)}U.value=s.data.data.map(()=>[]),v.value=s.data,R.value=s.data.next_page_url,N()}catch{f.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat mengambil data",showConfirmButton:!1,timer:2e3})}else router.push("/login"),localStorage.clear();h.value=!h.value};return V(async()=>{await Q(),await J()}),(t,o)=>{const s=z("KebijakanPrivasi");return a(),n(k,null,[p.value?(a(),n("div",Z,ee)):d("",!0),I(D)?(a(),n("div",te,[g(W)])):d("",!0),p.value?d("",!0):(a(),C(H,{key:2},{default:T(()=>[ae,x.value?(a(),C(X,{key:0,routeUrl:"user.views.hasil_jatidiri_anxiety",message:"Test Anxiety Selesai!",subMessage:we})):d("",!0),x.value?d("",!0):(a(),n("section",se,[g(O,{name:"fade",mode:"out-in"},{default:T(()=>[t.isKebijakanPrivasi?(a(),n("div",oe,[g(s,{onToggleKebijakanPrivasi:t.toggleKebijakanPrivasi},null,8,["onToggleKebijakanPrivasi"])])):d("",!0)]),_:1}),e("div",ne,[e("div",ie,[le,v.value?(a(),n("div",re,[ce,E.value?(a(),n("div",_e,ke)):(a(),n("div",de,[(a(!0),n(k,null,B(v.value.data,(l,r)=>(a(),n("div",ue,[e("label",me,j(r+1)+". "+j(l.question),1),e("div",fe,[e("div",xe,[(a(!0),n(k,null,B(l.answers,(i,m)=>(a(),n("button",{onClick:Ce=>F(i.value,r),key:m,class:P([{"bg-[#3030f8] border-[#3030f8] text-white":b(r,i.value),"border-[#667084] text-[#667084]":!b(r,i.value)},"group size-10 md:w-14 md:h-14 rounded-lg border transition-all hover:border-[#3030f8] flex-col justify-center items-center gap-2.5 inline-flex"])},[e("div",{class:P([{"text-white":b(r,i.value),"group-hover:text-[#3030f8] text-[#667084]":!b(r,i.value)},"text-[#667084] text-base md:text-2xl font-semibold font-['Roboto'] leading-loose uppercase"])},j(i.value),3)],10,he))),128))])])]))),256)),e("div",{class:"mt-10 gap-2 flex flex-col md:flex-row justify-center items-center"},[e("button",{onClick:M,class:"hover:translate-x-1 hover:shadow-2xl transition-all h-11 pl-6 pr-4 py-1.5 bg-[#3030f8] rounded-full justify-center items-center gap-3 inline-flex"},pe)])]))])):d("",!0)])])])),e("section",ye,[g(Y)])]),_:1}))],64)}}};export{Le as default};
