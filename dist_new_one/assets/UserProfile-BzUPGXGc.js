import{_ as K,g as J,u as T,f as l,i as A,s as D,o as s,c as i,a as e,l as g,v as y,P as V,H as I,O,G as F,F as Z,t as B,S,b as R,w as _t,k,T as pt,K as tt,j as H,r as N,L as z,Q as vt,q as ft,N as gt,p as mt,U as xt}from"./index-Dthq0P5E.js";import{N as kt}from"./newNavbar-CpKe0X2L.js";import{p}from"./purify.es-DX2bXU93.js";import{_ as yt}from"./debounce-BfGIqxBF.js";import"./customerBottom-BcFpgPsH.js";import"./PhUser.vue-C0cTronS.js";import"./_baseGetTag-mTY04yK9.js";const wt={name:"InformasiPribadi",props:["dataCustomer"],setup(n){const o=J(),c=T(),t=l(n.dataCustomer),d=l([]),r=l([]),a=l([]),u=l([]),v=l([]),f=l([]),m=l([]),h=l([]),b=l(n.dataCustomer?n.dataCustomer.first_name:""),_=l(n.dataCustomer?n.dataCustomer.last_name:""),w=l(n.dataCustomer?n.dataCustomer.user.email:""),C=l(n.dataCustomer?n.dataCustomer.number:""),U=l(n.dataCustomer?n.dataCustomer.birth_place:""),$=l(n.dataCustomer?n.dataCustomer.birth_date:""),E=l(""),M=l(n.dataCustomer?n.dataCustomer.child_number:""),G=l(n.dataCustomer?n.dataCustomer.from_child_number:""),et=l(n.dataCustomer.gender==="Perempuan"?2:n.dataCustomer.gender==="Laki-laki"?1:"-- Jenis Kelamin --"),at=l(n.dataCustomer.status=="Belum Kawin"?0:n.dataCustomer.status=="Kawin"?1:n.dataCustomer.status=="Cerai Hidup"?2:n.dataCustomer.status=="Cerah Mati"?3:"-- Status Nikah --"),ot=l(n.dataCustomer?n.dataCustomer.ethnic:""),nt=l(n.dataCustomer?n.dataCustomer.nationality:""),q=l(n.dataCustomer.village?n.dataCustomer.village.district.regency.province.id:"-- Pilih Provinsi --"),Q=l(n.dataCustomer.village?n.dataCustomer.village.district.regency.id:"-- Pilih Kota --"),X=l(n.dataCustomer.village?n.dataCustomer.village.district.id:"-- Pilih Kecamatan --"),st=l(n.dataCustomer.village?n.dataCustomer.village.id:"-- Pilih Kelurahan --"),lt=l(n.dataCustomer?n.dataCustomer.address:""),it=l(n.dataCustomer.blood_group?n.dataCustomer.blood_group:"-- Golongan Darah --"),rt=l(n.dataCustomer.religion?n.dataCustomer.religion:"-- Agama --"),bt=j=>{if(j){const[L,x,P]=j.split("-");return`${P}-${x}-${L}`}};A(async()=>{if(!t.value&&!userRole.value&&!userEmail){const P=localStorage.getItem("userData"),W=localStorage.getItem("userRole");if(P&&W){const Y=JSON.parse(P),ht=JSON.parse(W);c.commit("user",Y),c.commit("userRole",ht)}}const j=bt($.value);E.value=j;const x=(await D("get","region/provinces",null,null)).data.map(P=>({id:P.id,text:P.name}));v.value=x,d.value=[{id:1,text:"Laki - laki",value:1},{id:2,text:"Perempuan",value:2}],r.value=[{id:1,text:"Belum Kawin",value:0},{id:2,text:"Kawin",value:1},{id:3,text:"Cerai Hidup",value:2},{id:4,text:"Cerai Mati",value:3}],a.value=[{id:1,text:"A",value:"A"},{id:2,text:"AB",value:"AB"},{id:3,text:"B",value:"B"},{id:4,text:"O",value:"O"}],u.value=[{id:1,text:"Islam"},{id:2,text:"Kristen"},{id:3,text:"Katholik"},{id:4,text:"Hindu"},{id:5,text:"Budha"},{id:6,text:"lainya"}],q.value&&dt(),Q.value&&ut(),X.value&&ct()});const dt=async()=>{const j=q.value?"region/regencies?province_id="+q.value:"region/regencies",x=(await D("get",j,null,null)).data.map(P=>({id:P.id,text:P.name}));f.value=x},ut=async()=>{const j=Q.value?"region/districts?regency_id="+Q.value:"region/districts",x=(await D("get",j,null,null)).data.map(P=>({id:P.id,text:P.name}));m.value=x},ct=async()=>{const j=X.value?"region/villages?district_id="+X.value:"region/villages",x=(await D("get",j,null,null)).data.map(P=>({id:P.id,text:P.name}));h.value=x};return{namaDepan:b,namaBelakang:_,emailVal:w,noWhatsapp:C,tempatLahir:U,tglLahir:$,formattedDate:E,dataJenisKelamin:d,jenisKelamin:et,anakKe:M,jumlahSaudara:G,suku:ot,kebangsaan:nt,dataStatusNikah:r,statusNikah:at,provinsi:q,kecamatan:X,kelurahan:st,kota:Q,alamatLengkap:lt,dataGolonganDarah:a,golonganDarah:it,dataAgama:u,agama:rt,provinceOptions:v,cityOptions:f,districtsOptions:m,villagesOptions:h,ubahData:async()=>{const j=t.value.id,L=B.get("token"),x=new FormData;if(x.append("_method","PUT"),x.append("id",j),x.append("first_name",p.sanitize(b.value)),x.append("last_name",p.sanitize(_.value)),x.append("blood_group",p.sanitize(it.value)),x.append("child_number",p.sanitize(M.value)),x.append("from_child_number",p.sanitize(G.value)),x.append("number",p.sanitize(C.value)),x.append("birth_place",p.sanitize(U.value)),x.append("birth_date",p.sanitize(E.value)),x.append("gender",p.sanitize(et.value)),x.append("status",at.value),x.append("ethnic",p.sanitize(ot.value)),x.append("nationality",p.sanitize(nt.value)),x.append("religion",rt.value),x.append("village_id",p.sanitize(st.value)),x.append("address",p.sanitize(lt.value)),L)try{const P=await D("post","customers/"+j,x,L);if(P.status==200){S.fire({icon:"success",title:"Success",text:P.data.message,showConfirmButton:!1,timer:2e3});const W=new FormData;W.append("refresh_user","true");const Y=await D("post","login",W,L);c.commit("user",Y.data.customer),localStorage.setItem("userData",JSON.stringify(Y.data.customer))}}catch{S.fire({icon:"error",title:"Failed",text:"Gagal mengubah data.",showConfirmButton:!1,timer:2e3})}else o.push("/login"),localStorage.clear()},getKota:dt,getKecamatan:ut,getKelurahan:ct,saveVillagesId:()=>{}}}},Ct={class:"bg-white rounded-lg shadow-sm p-4 h-full"},Dt=e("h2",{class:"font-myFont text-dark text-2xl mb-4"},"Informasi Pribadi",-1),Pt={class:"flex flex-col justify-center items-center"},Ft={class:"flex justify-center items-center w-full gap-2"},St={class:"w-full mb-4"},Ut=e("label",{for:"nama_depan",class:"block text-sm font-myFont font-medium text-dark"},"Nama Depan:",-1),jt={class:"w-full mb-4"},It=e("label",{for:"newPass",class:"block text-sm font-myFont font-medium text-dark"},"Nama Belakang:",-1),Kt={class:"flex justify-center items-center w-full gap-2"},Vt={class:"w-full mb-4"},Nt=e("label",{for:"Tempat Lahir",class:"block text-sm font-myFont font-medium text-dark"},"Tempat Lahir:",-1),Bt={class:"w-full mb-4"},Ot=e("label",{for:"tgl_lahir",class:"block text-sm font-myFont font-medium text-dark"},"Tanggal Lahir:",-1),Jt={class:"flex justify-center items-center w-full gap-2"},Lt={class:"w-full mb-4"},Tt=e("label",{for:"anakKe",class:"block text-sm font-myFont font-medium text-dark"},"Anak Ke:",-1),zt={class:"w-full mb-4"},Rt=e("label",{for:"jumlahSaudara",class:"block text-sm font-myFont font-medium text-dark"},"Jumlah Saudara:",-1),At={class:"flex justify-center items-center w-full gap-2"},$t={class:"w-full mb-4"},Et=e("label",{for:"jenis_kelamin",class:"block text-sm font-myFont font-medium text-dark"},"Jenis Kelamin:",-1),Mt=e("option",{selected:"",disabled:""},"-- Jenis Kelamin --",-1),Gt=["value"],Wt={class:"w-full mb-4"},Ht=e("label",{for:"status_nikah",class:"block text-sm font-myFont font-medium text-dark"},"Status Nikah:",-1),qt=e("option",{selected:"",disabled:""},"-- Status Nikah --",-1),Qt=["value"],Xt={class:"flex justify-center items-center w-full gap-2"},Yt={class:"w-full mb-4"},Zt=e("label",{for:"suku",class:"block text-sm font-myFont font-medium text-dark"},"Suku:",-1),te={class:"w-full mb-4"},ee=e("label",{for:"kebangsaan",class:"block text-sm font-myFont font-medium text-dark"},"Kebangsaan:",-1),ae={class:"flex justify-center items-center w-full gap-2"},oe={class:"w-full mb-4"},ne=e("label",{for:"golongan_darah",class:"block text-sm font-myFont font-medium text-dark"},"Golongan Darah:",-1),se=e("option",{selected:"",disabled:""},"-- Golongan Darah --",-1),le=["value"],ie={class:"w-full mb-4"},re=e("label",{for:"agama",class:"block text-sm font-myFont font-medium text-dark"},"Agama:",-1),de=e("option",{selected:"",disabled:""},"-- Agama --",-1),ue=["value"],ce={class:"flex justify-center items-center w-full gap-2"},me={class:"w-full mb-4"},fe=e("label",{for:"email",class:"block text-sm font-myFont font-medium text-dark"},"Email:",-1),ge={class:"w-full mb-4"},be=e("label",{for:"no_whatsapp",class:"block text-sm font-myFont font-medium text-dark"},"No Whatsapp:",-1),he={class:"flex justify-center items-center w-full gap-2"},_e={class:"w-full mb-4"},pe=e("label",{for:"provinsi",class:"block text-sm font-myFont font-medium text-dark"},"Provinsi:",-1),ve=e("option",{selected:"",disabled:""},"-- Pilih Provinsi --",-1),xe=["value"],ke={class:"w-full mb-4"},ye=e("label",{for:"kota",class:"block text-sm font-myFont font-medium text-dark"},"Kota:",-1),we=["readonly"],Ce=e("option",{selected:"",disabled:""},"-- Pilih Kota --",-1),De=["value"],Pe={class:"flex justify-center items-center w-full gap-2"},Fe={class:"w-full mb-4"},Se=e("label",{for:"kecamatan",class:"block text-sm font-myFont font-medium text-dark"},"Kecamatan:",-1),Ue=["readonly"],je=e("option",{selected:"",disabled:""},"-- Pilih Kecamatan --",-1),Ie=["value"],Ke={class:"w-full mb-4"},Ve=e("label",{for:"kelurahan",class:"block text-sm font-myFont font-medium text-dark"},"Kelurahan:",-1),Ne=["readonly"],Be=e("option",{selected:"",disabled:""},"-- Pilih Kelurahan --",-1),Oe=["value"],Je={class:"w-full mb-4"},Le=e("label",{for:"alamat",class:"block text-sm font-myFont font-medium text-dark"},"Alamat Lengkap:",-1);function Te(n,o,c,t,d,r){return s(),i("div",Ct,[Dt,e("div",Pt,[e("div",Ft,[e("div",St,[Ut,g(e("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>t.namaDepan=a),type:"text",name:"nama_depan",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru"},null,512),[[y,t.namaDepan]])]),e("div",jt,[It,g(e("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>t.namaBelakang=a),type:"text",id:"nama_belakang",name:"nama_belakang",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru"},null,512),[[y,t.namaBelakang]])])]),e("div",Kt,[e("div",Vt,[Nt,g(e("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>t.tempatLahir=a),type:"text",id:"tempat_lahir",name:"tempat_lahir",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru",placeholder:"Contoh: Bandung"},null,512),[[y,t.tempatLahir]])]),e("div",Bt,[Ot,g(e("input",{"onUpdate:modelValue":o[3]||(o[3]=a=>t.formattedDate=a),type:"date",id:"tgl_lahir",name:"tgl_lahir",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru"},null,512),[[y,t.formattedDate]])])]),e("div",Jt,[e("div",Lt,[Tt,g(e("input",{"onUpdate:modelValue":o[4]||(o[4]=a=>t.anakKe=a),type:"text",id:"anakKe",name:"anakKe",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru",placeholder:"Contoh: 1"},null,512),[[y,t.anakKe]])]),e("div",zt,[Rt,g(e("input",{"onUpdate:modelValue":o[5]||(o[5]=a=>t.jumlahSaudara=a),type:"text",id:"jumlahSaudara",name:"jumlahSaudara",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru",placeholder:"Contoh: 3"},null,512),[[y,t.jumlahSaudara]])])]),e("div",At,[e("div",$t,[Et,g(e("select",{"onUpdate:modelValue":o[6]||(o[6]=a=>t.jenisKelamin=a),name:"jenis_kelamin",id:"jenis_kelamin",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru bg-white"},[Mt,(s(!0),i(I,null,O(t.dataJenisKelamin,(a,u)=>(s(),i("option",{key:u,value:a.value},F(a.text),9,Gt))),128))],512),[[V,t.jenisKelamin]])]),e("div",Wt,[Ht,g(e("select",{"onUpdate:modelValue":o[7]||(o[7]=a=>t.statusNikah=a),name:"status_nikah",id:"status_nikah",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru bg-white"},[qt,(s(!0),i(I,null,O(t.dataStatusNikah,(a,u)=>(s(),i("option",{key:u,value:a.value},F(a.text),9,Qt))),128))],512),[[V,t.statusNikah]])])]),e("div",Xt,[e("div",Yt,[Zt,g(e("input",{"onUpdate:modelValue":o[8]||(o[8]=a=>t.suku=a),type:"text",id:"suku",name:"suku",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru",placeholder:"Contoh: Sunda"},null,512),[[y,t.suku]])]),e("div",te,[ee,g(e("input",{"onUpdate:modelValue":o[9]||(o[9]=a=>t.kebangsaan=a),type:"text",id:"kebangsaan",name:"kebangsaan",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru",placeholder:"Contoh: Indonesia"},null,512),[[y,t.kebangsaan]])])]),e("div",ae,[e("div",oe,[ne,g(e("select",{"onUpdate:modelValue":o[10]||(o[10]=a=>t.golonganDarah=a),name:"golongan_darah",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru bg-white"},[se,(s(!0),i(I,null,O(t.dataGolonganDarah,(a,u)=>(s(),i("option",{key:u,value:a.value},F(a.text),9,le))),128))],512),[[V,t.golonganDarah]])]),e("div",ie,[re,g(e("select",{"onUpdate:modelValue":o[11]||(o[11]=a=>t.agama=a),name:"agama",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru bg-white"},[de,(s(!0),i(I,null,O(t.dataAgama,(a,u)=>(s(),i("option",{key:u,value:a.id},F(a.text),9,ue))),128))],512),[[V,t.agama]])])]),e("div",ce,[e("div",me,[fe,g(e("input",{"onUpdate:modelValue":o[12]||(o[12]=a=>t.emailVal=a),type:"email",id:"email",name:"email",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru"},null,512),[[y,t.emailVal]])]),e("div",ge,[be,g(e("input",{"onUpdate:modelValue":o[13]||(o[13]=a=>t.noWhatsapp=a),type:"text",id:"no_whatsapp",name:"no_whatsapp",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru"},null,512),[[y,t.noWhatsapp]])])]),e("div",he,[e("div",_e,[pe,g(e("select",{"onUpdate:modelValue":o[14]||(o[14]=a=>t.provinsi=a),onChange:o[15]||(o[15]=(...a)=>t.getKota&&t.getKota(...a)),name:"provinsi",id:"provinsi",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru bg-white"},[ve,(s(!0),i(I,null,O(t.provinceOptions,(a,u)=>(s(),i("option",{class:"text-xs md:text-sm lg:text-base",key:u,value:a.id},F(a.text),9,xe))),128))],544),[[V,t.provinsi]])]),e("div",ke,[ye,g(e("select",{readonly:t.cityOptions.length===0,"onUpdate:modelValue":o[16]||(o[16]=a=>t.kota=a),onChange:o[17]||(o[17]=(...a)=>t.getKecamatan&&t.getKecamatan(...a)),name:"kota",id:"kota",class:Z([{"read-only:bg-slate-200":t.cityOptions.length===0},"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru bg-white"])},[Ce,(s(!0),i(I,null,O(t.cityOptions,(a,u)=>(s(),i("option",{key:u,value:a.id},F(a.text),9,De))),128))],42,we),[[V,t.kota]])])]),e("div",Pe,[e("div",Fe,[Se,g(e("select",{readonly:t.districtsOptions.length===0,"onUpdate:modelValue":o[18]||(o[18]=a=>t.kecamatan=a),onChange:o[19]||(o[19]=(...a)=>t.getKelurahan&&t.getKelurahan(...a)),name:"kecamatan",id:"kecamatan",class:Z([{"read-only:bg-slate-200":t.districtsOptions.length===0},"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru bg-white"])},[je,(s(!0),i(I,null,O(t.districtsOptions,(a,u)=>(s(),i("option",{key:u,value:a.id},F(a.text),9,Ie))),128))],42,Ue),[[V,t.kecamatan]])]),e("div",Ke,[Ve,g(e("select",{readonly:t.villagesOptions.length===0,"onUpdate:modelValue":o[20]||(o[20]=a=>t.kelurahan=a),onChange:o[21]||(o[21]=(...a)=>t.saveVillagesId&&t.saveVillagesId(...a)),name:"kelurahan",id:"kelurahan",class:Z([{"read-only:bg-slate-200":t.villagesOptions.length===0},"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru bg-white"])},[Be,(s(!0),i(I,null,O(t.villagesOptions,(a,u)=>(s(),i("option",{value:a.id,key:u},F(a.text),9,Oe))),128))],42,Ne),[[V,t.kelurahan]])])]),e("div",Je,[Le,g(e("textarea",{"onUpdate:modelValue":o[22]||(o[22]=a=>t.alamatLengkap=a),type:"text",id:"alamat",name:"alamat",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru",placeholder:"Alamat Lengkap"},null,512),[[y,t.alamatLengkap]])]),e("button",{onClick:o[23]||(o[23]=(...a)=>t.ubahData&&t.ubahData(...a)),class:"px-2 py-2 w-1/2 lg:w-1/4 self-center text-center rounded-lg bg-biru font-myFont font-medium text-light hover:opacity-75 hover:shadow-lg"}," Ubah Data ")])])}const ze=K(wt,[["render",Te]]),Re={name:"InformasiSekolah",props:["dataCustomer"],setup(n){const o=T(),c=J(),t=l(""),d=l(!1),r=l([]),a=l([]);A(()=>{a.value=[{id:1,text:"TK",value:"TK"},{id:2,text:"SD",value:"SD"},{id:3,text:"SMP",value:"SMP"},{id:4,text:"SMA",value:"SMA"},{id:5,text:"SMK",value:"SMK"},{id:6,text:"Perguruan Tinggi",value:"perguruan_tinggi"}]});const u=(C,U)=>{t.value=C,d.value=!1,h.value=U},v=yt(()=>{h.value!==""?(d.value=!0,f()):d.value=!1},500),f=async()=>{const C=await D("get",`institutions?search=${h.value}`,null,null);r.value=C.data.data},m=l(n.dataCustomer.institutions?n.dataCustomer.institutions.type:"-- Pilih Opsi --"),h=l(n.dataCustomer.institutions?n.dataCustomer.institutions.name:""),b=l(n.dataCustomer.grade?n.dataCustomer.grade:""),_=l(n.dataCustomer.majoring?n.dataCustomer.majoring:"");return{pilihSekolah:u,searched:d,pilihanSekolah:r,debouncedGetSearchData:v,dataJenjangPendidikan:a,jenjangPendidikan:m,namaPendidikan:h,kelas:b,jurusan:_,props:n,ubahData:async()=>{const C=new FormData;C.append("_method","PUT"),C.append("type",p.sanitize(m.value)),C.append("institution_id",p.sanitize(t.value)),C.append("grade",p.sanitize(b.value)),C.append("majoring",p.sanitize(_.value));const U=B.get("token");if(U)try{const $=n.dataCustomer.id,E=await D("post","customers/"+$,C,U);S.fire({icon:"success",title:"Success",text:E.data.message,showConfirmButton:!1,timer:2e3});const M=new FormData;M.append("refresh_user","true");const G=await D("post","login",M,U);o.commit("user",G.data.customer),localStorage.setItem("userData",JSON.stringify(G.data.customer))}catch{S.fire({icon:"error",title:"Failed",text:"Gagal mengubah data pendidikan.",showConfirmButton:!1,timer:2e3})}else c.push("/login"),localStorage.clear()}}}},Ae={class:"bg-white rounded-lg shadow-sm p-4"},$e=e("h2",{class:"font-myFont text-dark text-2xl mb-4"},"Informasi Sekolah",-1),Ee={class:"flex flex-col justify-center items-center"},Me={class:"flex justify-center items-center w-full gap-2"},Ge={class:"w-full mb-4"},We=e("label",{for:"jenjangPendidikan",class:"block text-sm font-myFont font-medium text-dark"},"Jenjang Pendidikan:",-1),He=e("option",{selected:"",disabled:""},"-- Pilih Opsi --",-1),qe=["value"],Qe={class:"w-full mb-4"},Xe={class:"relative group"},Ye={for:"namaPendidikan",class:"block text-sm font-myFont font-medium text-dark"},Ze=["placeholder"],ta={key:0,id:"dropdown-menu",class:"w-full max-h-[140px] overflow-y-scroll absolute z-40 right-0 mt-2 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 p-1 space-y-1"},ea={key:0,class:"flex flex-col"},aa=["onClick"],oa={key:1},na=e("span",{class:"hover:bg-neutral-500 mx-4 font-myFont text-xs lg:text-sm text-dark"}," Data sekolah tidak ada. ",-1),sa=[na],la={class:"flex justify-center items-center w-full gap-2"},ia={key:0,class:"w-full mb-4"},ra=e("label",{for:"jurusan",class:"block text-sm font-myFont font-medium text-dark"},"Jurusan:",-1),da={class:"w-full mb-4"},ua={for:"grade",class:"block text-sm font-myFont font-medium text-dark"},ca=["placeholder"];function ma(n,o,c,t,d,r){return s(),i("div",Ae,[$e,e("div",Ee,[e("div",Me,[e("div",Ge,[We,g(e("select",{"onUpdate:modelValue":o[0]||(o[0]=a=>t.jenjangPendidikan=a),id:"jenjang_pendidikan",name:"jenjang_pendidikan",class:"text-xs md:text-sm lg:text-base mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru bg-white"},[He,(s(!0),i(I,null,O(t.dataJenjangPendidikan,(a,u)=>(s(),i("option",{key:u,value:a.value},F(a.text),9,qe))),128))],512),[[V,t.jenjangPendidikan]])]),e("div",Qe,[e("div",Xe,[e("label",Ye,F(t.jenjangPendidikan!=="perguruan_tinggi"?"Nama Sekolah:":"Nama Perguruan Tinggi"),1),g(e("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>t.namaPendidikan=a),onInput:o[2]||(o[2]=a=>t.debouncedGetSearchData()),type:"text",name:"namaPendidikan",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru",placeholder:t.jenjangPendidikan!=="perguruan_tinggi"?"Nama Sekolah":"Nama Perguruan Tinggi"},null,40,Ze),[[y,t.namaPendidikan]]),R(pt,{name:"fade",mode:"out-in"},{default:_t(()=>[t.searched?(s(),i("div",ta,[t.searched&&t.pilihanSekolah.length>0?(s(),i("div",ea,[(s(!0),i(I,null,O(t.pilihanSekolah,(a,u)=>(s(),i("span",{key:u,onClick:v=>t.pilihSekolah(a.id,a.name),class:"hover:bg-neutral-200 py-2 px-4 cursor-pointer mx-4 font-myFont text-xs lg:text-sm text-dark"},F(a.name),9,aa))),128))])):t.searched&&t.pilihanSekolah.length==0?(s(),i("div",oa,sa)):k("",!0)])):k("",!0)]),_:1})])])]),e("div",la,[t.jenjangPendidikan=="SMA"||t.jenjangPendidikan=="SMK"||t.jenjangPendidikan=="perguruan_tinggi"?(s(),i("div",ia,[ra,g(e("input",{"onUpdate:modelValue":o[3]||(o[3]=a=>t.jurusan=a),type:"text",name:"jurusan",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru",placeholder:"Jurusan"},null,512),[[y,t.jurusan]])])):k("",!0),e("div",da,[e("label",ua,F(t.jenjangPendidikan!=="perguruan_tinggi"?"Kelas:":"Semester"),1),g(e("input",{"onUpdate:modelValue":o[4]||(o[4]=a=>t.kelas=a),type:"text",name:"grade",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru",placeholder:(t.jenjangPendidikan!=="perguruan_tinggi","Contoh: 1")},null,8,ca),[[y,t.kelas]])])]),e("button",{onClick:o[5]||(o[5]=(...a)=>t.ubahData&&t.ubahData(...a)),class:"px-2 py-2 w-1/2 lg:w-1/4 self-center text-center rounded-lg bg-biru font-myFont font-medium text-light hover:opacity-75 hover:shadow-lg"}," Ubah Data ")])])}const fa=K(Re,[["render",ma]]),ga={name:"UbahPassword",props:["dataCustomer"],setup(n){const o=J(),c=T(),t=l(n.dataCustomer),d=l(""),r=l("");return{userData:t,currPass:d,newPass:r,changePassword:async()=>{const u=B.get("token");if(u)try{const v=t.value.id,f=t.value.user.id,m=JSON.stringify({current_password:p.sanitize(d.value),new_password:p.sanitize(r.value)}),h=await D("put","change-password/"+f,m,u);if(h.status==200){S.fire({icon:"success",title:"Success",text:h.data.message,showConfirmButton:!1,timer:2e3});const b=await D("get","customers?id="+v,null,u);c.commit("user",b.data.data[0]),localStorage.setItem("userData",JSON.stringify(b.data.data[0]))}}catch{S.fire({icon:"error",title:"Failed",text:"Gagal mengubah password.",showConfirmButton:!1,timer:2e3})}else o.push("/login"),localStorage.clear()},props:n}}},ba={class:"bg-white rounded-lg shadow-sm p-4"},ha=e("h2",{class:"font-myFont text-dark text-2xl mb-4"},"Ubah Password",-1),_a={class:"flex flex-col justify-center items-center"},pa={class:"flex justify-center items-center w-full gap-2"},va={class:"w-full mb-4"},xa=e("label",{for:"currPass",class:"block text-sm font-myFont font-medium text-dark"},"Password Sekarang:",-1),ka={class:"w-full mb-4"},ya=e("label",{for:"newPass",class:"block text-sm font-myFont font-medium text-dark"},"Password Baru:",-1);function wa(n,o,c,t,d,r){return s(),i("div",ba,[ha,e("div",_a,[e("div",pa,[e("div",va,[xa,g(e("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>t.currPass=a),type:"password",name:"curPass",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru",placeholder:"Password anda saat ini"},null,512),[[y,t.currPass]])]),e("div",ka,[ya,g(e("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>t.newPass=a),type:"password",name:"newPass",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru",placeholder:"Password baru anda"},null,512),[[y,t.newPass]])])]),e("button",{onClick:o[2]||(o[2]=(...a)=>t.changePassword&&t.changePassword(...a)),class:"px-2 py-2 w-1/2 lg:w-1/4 self-center text-center rounded-lg bg-biru font-myFont font-medium text-light hover:opacity-75 hover:shadow-lg"}," Ubah Password ")])])}const Ca=K(ga,[["render",wa]]),Da={name:"FotoProfile",props:["dataCustomer"],setup(n){const o=J(),c="https://api.jatidiri.app/api/",t=T(),d=l(n.dataCustomer),r=l(!1),a=l("");return{loadingUpload:r,props:n,baseUrl:c,userData:d,profileImageUrl:a,handleFileChange:()=>{const m=document.getElementById("fileInput").files[0];m&&(a.value=URL.createObjectURL(m))},uploadFoto:async()=>{r.value=!r.value;const f=d.value.id,m=B.get("token"),b=document.getElementById("fileInput").files[0];if(m){if(b){const _=new FormData;_.append("_method","PUT"),_.append("image",b);const w=await D("post","customers/"+f,_,m);if(w.status==200){S.fire({icon:"success",title:"Success",text:w.data.message,showConfirmButton:!1,timer:2e3}),a.value="";const C=await D("get","customers?id="+f,null,m);t.commit("user",C.data.data[0]),localStorage.setItem("userData",JSON.stringify(C.data.data[0]))}}}else o.push("/login"),localStorage.clear();r.value=!r.value}}}},Pa={class:"bg-white rounded-lg shadow-sm p-4"},Fa={class:"flex justify-around items-center"},Sa={key:0,class:"flex justify-center py-8 w-full"},Ua=e("span",{class:"mx-auto animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14"},null,-1),ja=[Ua],Ia={key:1,class:"mx-4 flex justify-center items-center gap-2"},Ka=["src"],Va={key:1,class:"w-24 h-24 rounded-full border-2 border-biru",src:tt,alt:"Foto Profile"},Na={class:"flex flex-col"},Ba={class:"font-myFont text-dark text-2xl"},Oa=e("p",{class:"font-myFont text-gray-500 text-sm mb-3 lg:mb-0"},"Foto Profile",-1),Ja={class:"block md:hidden lg:hidden"},La=e("label",{for:"fileInput",class:"cursor-pointer px-2 py-[1px] rounded-lg font-myFont text-sm text-biru border-2 border-biru hover:text-light hover:bg-biru hover:shadow-lg"}," Ubah Foto ",-1),Ta={key:2,class:"hidden md:flex lg:flex justify-center items-center gap-2"},za=e("label",{for:"fileInput",class:"cursor-pointer px-2 py-1 rounded-lg font-myFont text-biru border-2 border-biru hover:text-light hover:bg-biru hover:shadow-lg"}," Ubah Foto ",-1);function Ra(n,o,c,t,d,r){return s(),i("div",Pa,[e("div",Fa,[t.loadingUpload?(s(),i("div",Sa,ja)):k("",!0),t.loadingUpload?k("",!0):(s(),i("div",Ia,[t.profileImageUrl||t.props.dataCustomer.image!==null?(s(),i("img",{key:0,class:"w-24 h-24 rounded-full border-2 border-biru",src:t.profileImageUrl==""?t.baseUrl+"open/customers/"+t.props.dataCustomer.image:t.profileImageUrl,alt:"Foto Profile"},null,8,Ka)):!t.profileImageUrl&&t.props.dataCustomer.image==null?(s(),i("img",Va)):k("",!0),e("div",Na,[e("h2",Ba,F(t.props.dataCustomer.name),1),Oa,e("div",Ja,[t.profileImageUrl?(s(),i("button",{key:0,onClick:o[0]||(o[0]=(...a)=>t.uploadFoto&&t.uploadFoto(...a)),class:"cursor-pointer px-1 py-[1px] rounded-lg font-myFont text-xs text-biru border-2 border-biru hover:text-light hover:bg-biru hover:shadow-lg"}," Simpan Foto ")):k("",!0),La])])])),t.loadingUpload?k("",!0):(s(),i("div",Ta,[t.profileImageUrl?(s(),i("button",{key:0,onClick:o[1]||(o[1]=(...a)=>t.uploadFoto&&t.uploadFoto(...a)),class:"cursor-pointer px-2 py-1 rounded-lg font-myFont text-biru border-2 border-biru hover:text-light hover:bg-biru hover:shadow-lg"}," Simpan Foto ")):k("",!0),za])),t.loadingUpload?k("",!0):(s(),i("input",{key:3,type:"file",id:"fileInput",ref:"fileInput",style:{display:"none"},onChange:o[2]||(o[2]=(...a)=>t.handleFileChange&&t.handleFileChange(...a))},null,544))])])}const Aa=K(Da,[["render",Ra]]),$a={name:"customerProfile",components:{InformasiPribadi:ze,FotoProfile:Aa,InformasiSekolah:fa,UbahPassword:Ca},setup(){const n=T(),o=H(()=>n.getters.getUserData),c=H(()=>n.getters.getUserRole);if(!o.value){const t=localStorage.getItem("userData");n.commit("user",t)}return{userData:o,userRole:c}}},Ea={class:"mx-4 pt-5"},Ma={class:"flex flex-col lg:flex-row justify-center mx-4 pt-5 gap-5"},Ga={class:"lg:w-1/2"},Wa={class:"lg:w-1/2 flex flex-col gap-5"};function Ha(n,o,c,t,d,r){const a=N("FotoProfile"),u=N("InformasiPribadi"),v=N("InformasiSekolah"),f=N("UbahPassword");return s(),i(I,null,[e("div",Ea,[R(a,{dataCustomer:t.userData},null,8,["dataCustomer"])]),e("div",Ma,[e("div",Ga,[(s(),z(vt,null,[R(u,{dataCustomer:t.userData},null,8,["dataCustomer"])],1024))]),e("div",Wa,[t.userData.is_student==1?(s(),z(v,{key:0,dataCustomer:t.userData},null,8,["dataCustomer"])):k("",!0),R(f,{dataCustomer:t.userData},null,8,["dataCustomer"])])])],64)}const qa=K($a,[["render",Ha]]),Qa={name:"FotoProfileConsultant",props:["userData"],setup(n){const o=T(),c="https://api.jatidiri.app/api/",t=J(),d=l(!1),r=l("");return{loadingUpload:d,props:n,baseUrl:c,uploadFoto:async()=>{const v=n.userData.id,f=B.get("token"),h=document.getElementById("fileInput").files[0];if(f){if(h){d.value=!d.value;const b=new FormData;b.append("_method","PUT"),b.append("image",h);const _=await D("post","consultants/"+v,b,f);if(_.status==200){S.fire({icon:"success",title:"Success",text:_.data.message,showConfirmButton:!1,timer:2e3}),r.value="";const w=await D("get","consultants?id="+v,null,f);w.data.data[0].available_on=JSON.stringify(w.data.data[0].available_on),o.commit("user",w.data.data[0]),localStorage.setItem("userData",JSON.stringify(w.data.data[0]))}d.value=!d.value}}else t.push("/login"),localStorage.clear()},handleFileChange:()=>{const f=document.getElementById("fileInput").files[0];f&&(r.value=URL.createObjectURL(f))},profileImageUrl:r}}},Xa={class:"flex justify-around items-center"},Ya={key:0,class:"flex justify-center py-8 w-full"},Za=e("span",{class:"mx-auto animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14"},null,-1),to=[Za],eo={key:1,class:"mx-4 flex justify-center items-center gap-2"},ao=["src"],oo={key:1,class:"w-24 h-24 rounded-full border-2 border-biru",src:tt,alt:"Foto Profile"},no={class:"flex flex-col"},so={class:"font-myFont text-dark text-2xl"},lo=e("p",{class:"font-myFont text-gray-500 text-sm"},"Foto Profile",-1),io={key:2,class:"flex justify-center items-center gap-2"},ro=e("label",{for:"fileInput",class:"cursor-pointer px-2 py-1 rounded-lg font-myFont text-biru border-2 border-biru hover:text-light hover:bg-biru hover:shadow-sm"}," Ubah Foto ",-1);function uo(n,o,c,t,d,r){return s(),i("div",Xa,[t.loadingUpload?(s(),i("div",Ya,to)):k("",!0),t.loadingUpload?k("",!0):(s(),i("div",eo,[t.profileImageUrl||t.props.userData.image!==null?(s(),i("img",{key:0,class:"w-24 h-24 rounded-full border-2 border-biru",src:t.profileImageUrl==""?t.baseUrl+"open/consultant/"+t.props.userData.image:t.profileImageUrl,alt:"Foto Profile"},null,8,ao)):!t.profileImageUrl&&t.props.userData.image==null?(s(),i("img",oo)):k("",!0),e("div",no,[e("h2",so,F(t.props.userData.name),1),lo])])),t.loadingUpload?k("",!0):(s(),i("div",io,[t.profileImageUrl?(s(),i("button",{key:0,onClick:o[0]||(o[0]=(...a)=>t.uploadFoto&&t.uploadFoto(...a)),class:"cursor-pointer px-2 py-1 rounded-lg font-myFont text-biru border-2 border-biru hover:text-light hover:bg-biru hover:shadow-sm"}," Simpan Foto ")):k("",!0),ro])),t.loadingUpload?k("",!0):(s(),i("input",{key:3,type:"file",id:"fileInput",ref:"fileInput",style:{display:"none"},onChange:o[1]||(o[1]=(...a)=>t.handleFileChange&&t.handleFileChange(...a))},null,544))])}const co=K(Qa,[["render",uo]]),mo={name:"InformasiPribadiKonsultan",props:["userData"],setup(n){const o=J(),c=l(n.userData.name),t=l(JSON.parse(localStorage.getItem("userEmail"))),d=l(n.userData.number),r=l(n.userData.birth_place),a=l(n.userData.birth_date),u=l(""),v=l(n.userData.gender),f=l(n.userData.address),m=b=>{const[_,w,C]=b.split("-");return`${C}-${w}-${_}`},h=async()=>{const b=n.userData.id,_=B.get("token"),w=new FormData;if(w.append("_method","PUT"),w.append("name",p.sanitize(c.value)),w.append("gender",p.sanitize(v.value)),w.append("birth_place",p.sanitize(r.value)),w.append("birth_date",p.sanitize(u.value)),w.append("address",p.sanitize(f.value)),w.append("number",p.sanitize(d.value)),_){const C=await D("post","consultants/"+b,w,_);if(C.status==200){S.fire({icon:"success",title:"Success",text:C.data.message,showConfirmButton:!1,timer:2e3});const U=await D("get","consultants?id="+b,null,_);U.data.data[0].available_on=JSON.stringify(U.data.data[0].available_on),store.commit("user",U.data.data[0]),localStorage.setItem("userData",JSON.stringify(U.data.data[0]))}else S.fire({icon:"danger",title:"Failed",text:C.data.error,showConfirmButton:!1,timer:2e3})}else o.push("/login"),localStorage.clear()};return A(()=>{const b=m(a.value);u.value=b}),{nama:c,emailVal:t,noWhatsapp:d,tempatLahir:r,tglLahir:a,formattedDate:u,jenisKelamin:v,alamatLengkap:f,ubahData:h}}},fo={class:"flex flex-col justify-center items-center"},go={class:"flex justify-center items-center w-full gap-2"},bo={class:"w-full mb-4"},ho=e("label",{for:"nama",class:"block text-sm font-myFont font-medium text-dark"},"Nama:",-1),_o={class:"flex justify-center items-center w-full gap-2"},po={class:"w-full mb-4"},vo=e("label",{for:"email",class:"block text-sm font-myFont font-medium text-dark"},"Email:",-1),xo={class:"w-full mb-4"},ko=e("label",{for:"no_whatsapp",class:"block text-sm font-myFont font-medium text-dark"},"No Whatsapp:",-1),yo={class:"flex justify-center items-center w-full gap-2"},wo={class:"w-full mb-4"},Co=e("label",{for:"Tempat Lahir",class:"block text-sm font-myFont font-medium text-dark"},"Tempat Lahir:",-1),Do={class:"w-full mb-4"},Po=e("label",{for:"tgl_lahir",class:"block text-sm font-myFont font-medium text-dark"},"Tanggal Lahir:",-1),Fo={class:"flex justify-center items-center w-full gap-2"},So={class:"w-full mb-4"},Uo=e("label",{for:"jenis_kelamin",class:"block text-sm font-myFont font-medium text-dark"},"Jenis Kelamin:",-1),jo=e("option",{value:"1"},"Laki - Laki",-1),Io=e("option",{value:"0"},"Perempuan",-1),Ko=[jo,Io],Vo={class:"w-full mb-4"},No=e("label",{for:"alamat",class:"block text-sm font-myFont font-medium text-dark"},"Alamat Lengkap:",-1);function Bo(n,o,c,t,d,r){return s(),i("div",fo,[e("div",go,[e("div",bo,[ho,g(e("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>t.nama=a),type:"text",name:"nama",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru"},null,512),[[y,t.nama]])])]),e("div",_o,[e("div",po,[vo,g(e("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>t.emailVal=a),type:"email",id:"email",name:"email",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru",disabled:"",readonly:""},null,512),[[y,t.emailVal]])]),e("div",xo,[ko,g(e("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>t.noWhatsapp=a),type:"text",id:"no_whatsapp",name:"no_whatsapp",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru"},null,512),[[y,t.noWhatsapp]])])]),e("div",yo,[e("div",wo,[Co,g(e("input",{"onUpdate:modelValue":o[3]||(o[3]=a=>t.tempatLahir=a),type:"text",id:"tempat_lahir",name:"tempat_lahir",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru"},null,512),[[y,t.tempatLahir]])]),e("div",Do,[Po,g(e("input",{"onUpdate:modelValue":o[4]||(o[4]=a=>t.formattedDate=a),type:"date",id:"tgl_lahir",name:"tgl_lahir",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru"},null,512),[[y,t.formattedDate]])])]),e("div",Fo,[e("div",So,[Uo,g(e("select",{"onUpdate:modelValue":o[5]||(o[5]=a=>t.jenisKelamin=a),name:"jenis_kelamin",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru bg-white"},Ko,512),[[V,t.jenisKelamin]])])]),e("div",Vo,[No,g(e("textarea",{"onUpdate:modelValue":o[6]||(o[6]=a=>t.alamatLengkap=a),type:"text",id:"alamat",name:"alamat",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru"},null,512),[[y,t.alamatLengkap]])]),e("button",{onClick:o[7]||(o[7]=(...a)=>t.ubahData&&t.ubahData(...a)),class:"px-2 py-2 w-1/2 lg:w-1/4 self-start text-center rounded-lg bg-biru font-myFont font-medium text-light hover:opacity-75 hover:shadow-sm"}," Ubah Data ")])}const Oo=K(mo,[["render",Bo]]),Jo={name:"DataKonsultasiKonsultan",props:["userData"],setup(n){const o=T(),c=J(),t=l(n.userData.fee),d=l("Monday");let r=l(n.userData.available_on);r=r.value;const a=async f=>{document.getElementsByName("time").forEach(b=>{b.checked=!1});let h=JSON.parse(r);h[f]&&h[f].time.forEach(b=>{document.getElementsByName("time").forEach(w=>{w.value==b&&(w.checked=!0)})})},u=async()=>{let f=JSON.parse(r),m=d.value,h=document.getElementsByName("time"),b=[];for(let _=0;_<h.length;_++)h[_].checked&&b.push(h[_].value);f[m]||(f[m]={data:m=="Monday"?0:m=="Tuesday"?1:m=="Wednesday"?2:m=="Thursday"?3:m=="Friday"?4:m=="Saturday"?5:6,day:m}),f[m].time=b,r=JSON.stringify(f)},v=async()=>{const f=n.userData.id,m=B.get("token"),h=new FormData;if(h.append("_method","PUT"),h.append("fee",parseInt(t.value)),h.append("available_on",r),m)try{const b=await D("post","consultants/"+f,h,m);if(b.status==200){S.fire({icon:"success",title:"Success",text:b.data.message,showConfirmButton:!1,timer:2e3});const _=await D("get","consultants?id="+f,null,m);_.data.data[0].available_on=JSON.stringify(_.data.data[0].available_on),o.commit("user",_.data.data[0]),localStorage.setItem("userData",JSON.stringify(_.data.data[0]))}}catch{S.fire({icon:"error",title:"Failed",text:"Gagal mengubah data.",showConfirmButton:!1,timer:2e3})}else c.push("/login"),localStorage.clear()};return A(()=>{a("Monday")}),{consultant_fee:t,selected_day:d,getAvailable:a,changeKonsulData:u,saveKonsulData:v}}},Lo={class:"flex flex-col"},To={class:"flex w-full"},zo={class:"w-1/2 mb-4"},Ro=e("label",{for:"currPass",class:"block text-sm font-myFont font-medium text-dark"},"Biaya Konsultasi :",-1),Ao={class:"relative"},$o=e("div",{class:"absolute inset-y-0 start-0 -top-2 flex items-center ps-3.5 pointer-events-none"},[e("span",{class:"w-4 h-4 text-dark font-semibold","aria-hidden":"true"},"Rp.")],-1),Eo={class:"w-1/2 mb-4"},Mo=e("label",{for:"day",class:"block text-sm font-myFont font-medium text-dark"},"Hari :",-1),Go=ft('<option value="Monday">Senin</option><option value="Tuesday">Selasa</option><option value="Wednesday">Rabu</option><option value="Thursday">Kamis</option><option value="Friday">Jumat</option><option value="Saturday">Sabtu</option><option value="Sunday">Minggu</option>',7),Wo=[Go],Ho={class:"w-3/4 mb-4"},qo=e("label",{for:"day",class:"block text-sm font-myFont font-medium text-dark mb-1"},"Jam Kerja :",-1),Qo={class:"flex flex-row w-ful"},Xo={class:"inline-flex gap-2 w-1/3"},Yo=e("span",{class:"w-full"},"08:00 - 10:00",-1),Zo={class:"inline-flex gap-2 w-1/3"},tn=e("span",{class:"w-full"},"11:00 - 13:00",-1),en={class:"inline-flex gap-2 w-1/3"},an=e("span",{class:"w-full"},"14:00 - 16:00",-1);function on(n,o,c,t,d,r){return s(),i("div",Lo,[e("div",To,[e("div",zo,[Ro,e("div",Ao,[$o,g(e("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>t.consultant_fee=a),type:"number",class:"mt-1 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru block ps-10 p-2",placeholder:"1000000",required:""},null,512),[[y,t.consultant_fee]])])])]),e("div",Eo,[Mo,g(e("select",{"onUpdate:modelValue":o[1]||(o[1]=a=>t.selected_day=a),onChange:o[2]||(o[2]=a=>t.getAvailable(t.selected_day)),name:"day",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru bg-white"},Wo,544),[[V,t.selected_day]])]),e("div",Ho,[qo,e("div",Qo,[e("label",Xo,[e("input",{type:"checkbox",onClick:o[3]||(o[3]=(...a)=>t.changeKonsulData&&t.changeKonsulData(...a)),class:"form-checkbox",name:"time",value:"08:00 - 10:00"}),Yo]),e("label",Zo,[e("input",{type:"checkbox",onClick:o[4]||(o[4]=(...a)=>t.changeKonsulData&&t.changeKonsulData(...a)),class:"form-checkbox",name:"time",value:"11:00 - 13:00"}),tn]),e("label",en,[e("input",{type:"checkbox",onClick:o[5]||(o[5]=(...a)=>t.changeKonsulData&&t.changeKonsulData(...a)),class:"form-checkbox",name:"time",value:"14:00 - 16:00"}),an])])]),e("button",{onClick:o[6]||(o[6]=(...a)=>t.saveKonsulData&&t.saveKonsulData(...a)),class:"px-2 py-2 mt-3 w-1/2 lg:w-1/4 self-start text-center rounded-lg bg-biru font-myFont font-medium text-light hover:opacity-75 hover:shadow-sm"}," Ubah Data ")])}const nn=K(Jo,[["render",on]]),sn={name:"UbahPasswordConsultant",props:["userData"],setup(n){const o=J(),c=l(""),t=l(""),d=l(null);return{currPass:c,newPass:t,passwordValidation:d,changePassword:async()=>{const u=n.userData.user_id,v=B.get("token");if(c.value.trim()==""||t.value.trim()==""||p.sanitize(c.value)==""||p.sanitize(t.value)==""||c.value.length<8||t.value.length<8){S.fire({icon:"error",title:"Error",text:"Tidak ada data yang bisa dikirim.",showConfirmButton:!1,timer:2300});return}if(v)try{const f=JSON.stringify({current_password:p.sanitize(c.value),new_password:p.sanitize(t.value)}),m=await D("put","change-password/"+u,f,v);if(m.status==200){S.fire({icon:"success",title:"Success",text:m.data.message,showConfirmButton:!1,timer:2e3});const h=await D("get","consultants?id="+consultantId,null,v);h.data.data[0].available_on=JSON.stringify(h.data.data[0].available_on),store.commit("user",h.data.data[0])}else m.status==200&&m.data.error&&S.fire({icon:"error",title:"Error",text:m.data.error,showConfirmButton:!1,timer:2e3})}catch{S.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat ubah password",showConfirmButton:!1,timer:2e3})}else o.push("/login"),localStorage.clear()},validation:()=>{t.value.length<8||c.value.length<8?d.value="Password harus berisi 8 karakter":d.value=null}}}},ln={class:"flex flex-col justify-center items-center"},rn={class:"flex justify-center w-full gap-2"},dn={class:"w-full mb-4"},un=e("label",{for:"currPass",class:"block text-sm font-myFont font-medium text-dark"},"Password Sekarang:",-1),cn={key:0,class:"mb-2 mt-1 font-myFont text-red-500 text-xs italic"},mn={class:"w-full mb-4"},fn=e("label",{for:"newPass",class:"block text-sm font-myFont font-medium text-dark"},"Password Baru:",-1),gn={key:0,class:"mb-2 mt-1 font-myFont text-red-500 text-xs italic"};function bn(n,o,c,t,d,r){return s(),i("div",ln,[e("div",rn,[e("div",dn,[un,g(e("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>t.currPass=a),onInput:o[1]||(o[1]=(...a)=>t.validation&&t.validation(...a)),type:"password",name:"curPass",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru",placeholder:"Password Lama Anda"},null,544),[[y,t.currPass]]),t.passwordValidation!==null?(s(),i("p",cn,F(t.passwordValidation)+".",1)):k("",!0)]),e("div",mn,[fn,g(e("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>t.newPass=a),onInput:o[3]||(o[3]=(...a)=>t.validation&&t.validation(...a)),type:"password",name:"newPass",class:"mt-1 p-2 border rounded-md w-full focus:outline-none focus:ring-biru focus:ring-2 focus:border-biru",placeholder:"Password Baru Anda"},null,544),[[y,t.newPass]]),t.passwordValidation!==null?(s(),i("p",gn,F(t.passwordValidation)+".",1)):k("",!0)])]),e("button",{onClick:o[4]||(o[4]=(...a)=>t.changePassword&&t.changePassword(...a)),class:"px-2 py-2 w-1/2 lg:w-1/4 self-start text-center rounded-lg bg-biru font-myFont font-medium text-light hover:opacity-75 hover:shadow-lg"}," Ubah Password ")])}const hn=K(sn,[["render",bn]]),_n={name:"consultantProfile",components:{InformasiPribadi:Oo,FotoProfile:co,UbahPassword:hn,DataKonsultasi:nn},setup(){J();const n="https://api.jatidiri.app/api/",o=T(),c=H(()=>o.getters.getUserData),t=H(()=>o.getters.getUserRole);return A(()=>{if(!c.value&&!t.value&&!userEmail){const d=localStorage.getItem("userData"),r=localStorage.getItem("userRole");if(d&&r){const a=JSON.parse(d),u=JSON.parse(r);o.commit("user",a),o.commit("userRole",u)}}}),{baseUrl:n,userData:c,userRole:t}}},pn={class:"mx-4 pt-5"},vn={class:"bg-white rounded-lg shadow-sm p-4"},xn={class:"flex flex-col lg:flex-row justify-center mx-4 pt-5 gap-5"},kn={class:"lg:w-1/2"},yn={class:"bg-white rounded-lg shadow-sm p-4 h-full"},wn=e("h2",{class:"font-myFont text-dark text-2xl mb-4"},"Informasi Pribadi",-1),Cn={class:"lg:w-1/2"},Dn={class:"flex flex-col gap-5"},Pn={class:"bg-white rounded-lg shadow-sm p-4"},Fn=e("h2",{class:"font-myFont text-dark text-2xl mb-4"},"Data Konsultasi",-1),Sn={class:"bg-white rounded-lg shadow-sm p-4"},Un=e("h2",{class:"font-myFont text-dark text-2xl mb-4"},"Ubah Password",-1);function jn(n,o,c,t,d,r){const a=N("FotoProfile"),u=N("informasiPribadi"),v=N("DataKonsultasi"),f=N("UbahPassword");return s(),i(I,null,[e("div",pn,[e("div",vn,[t.userData?(s(),z(a,{key:0,userData:t.userData},null,8,["userData"])):k("",!0)])]),e("div",xn,[e("div",kn,[e("div",yn,[wn,t.userData?(s(),z(u,{key:0,userData:t.userData},null,8,["userData"])):k("",!0)])]),e("div",Cn,[e("div",Dn,[e("div",Pn,[Fn,t.userData?(s(),z(v,{key:0,userData:t.userData},null,8,["userData"])):k("",!0)]),e("div",Sn,[Un,t.userData?(s(),z(f,{key:0,userData:t.userData},null,8,["userData"])):k("",!0)])])])])],64)}const In=K(_n,[["render",jn]]),Kn={name:"AdminProfile"},Vn={class:"flex justify-center mx-4 pt-7"},Nn=ft('<div class="w-1/2 bg-white rounded-xl p-4 shadow-xl mb-4"><div class="flex flex-col justify-center items-center"><div class="w-32 h-32 rounded-full bg-gray-300 border-2 border-white mt-2"><img src="'+tt+'" class="rounded-full w-auto"></div><p class="font-semibold text-xl mt-1">Admin</p><p class="font-semibold text-base text-gray-400 mb-4">Hexagon Inc</p><p class="font-semibold text-base text-gray-400"> Gg. Guna Bhakti-II Jl. Abdul Halim No.128, RT.01/RW.03 </p><p class="font-semibold text-base text-gray-400"> Cigugur Tengah, Kec. Cimahi Tengah, Kota Cimahi, Jawa Barat </p><p class="font-semibold text-base text-gray-400 mb-4"> 40522 </p></div></div>',1),Bn=[Nn];function On(n,o,c,t,d,r){return s(),i("div",Vn,Bn)}const Jn=K(Kn,[["render",On]]),Ln={name:"UserProfile",components:{customerProfile:qa,consultantProfile:In,adminProfile:Jn},setup(){const n=T(),o=J(),c=l(""),t=H(()=>n.getters.getUserData);return A(()=>{const d=B.get("token");if(d)try{const r=gt(d);c.value=r.role}catch{o.push("/login"),B.remove("token")}if(!t.value){const r=localStorage.getItem("userData");if(r){const a=JSON.parse(r);n.commit("user",a)}}}),{userData:t,userRole:c}}},Tn={key:0,class:"bg-gray-100 pb-16"},zn={key:0},Rn={key:1},An={key:2};function $n(n,o,c,t,d,r){const a=N("customerProfile"),u=N("consultantProfile"),v=N("adminProfile");return t.userData&&t.userRole?(s(),i("section",Tn,[t.userRole==="customer"?(s(),i("div",zn,[R(a)])):t.userRole==="consultant"?(s(),i("div",Rn,[R(u)])):t.userRole==="admin"?(s(),i("div",An,[R(v)])):k("",!0)])):k("",!0)}const En=K(Ln,[["render",$n]]),ts={__name:"UserProfile",setup(n){const o=B.get("token"),t=gt(o).role;return(d,r)=>(s(),i(I,null,[mt(t)=="customer"?(s(),z(xt,{key:0})):k("",!0),mt(t)!=="customer"?(s(),z(kt,{key:1})):k("",!0),R(En)],64))}};export{ts as default};
