import{g as H,f as o,i as F,o as s,c as n,H as T,O as $,a as e,G as f,F as J,k as p,S as _,t as D,s as I,_ as Y,p as W,b as w,L as N,w as U,T as X,x as Z,y as q}from"./index-Dthq0P5E.js";import{_ as E}from"./chevron_forward-N6bkwtOy.js";import{_ as ee}from"./Layout-B-iEbMYB.js";import{R as te}from"./Reservasi-DSXqCmKX.js";import{S as ae}from"./SelesaiTest-0hQMnsJq.js";import{_ as se}from"./chevron_right-ClIhfjI9.js";import{_ as oe}from"./KebijakanPrivasi-WL-EQjVJ.js";import{c as ne}from"./cekProfile-BiJHQP7D.js";import{_ as le}from"./modalCekProfile-Cy3hIFsF.js";import"./gradient-BrkKDYIY.js";import"./selesai-cpm-B8q2160b.js";import"./arrow-go-biru-CWElls4u.js";/* empty css                                                                    */import"./chevron_left-CI_8rgLf.js";import"./PhWarning.vue-C0pCjHXV.js";const ie={class:"flex flex-col items-center gap-[56px]"},re=e("div",{class:"mx-[30px] md:mx-[60px] h-[76px] flex-col justify-start items-start gap-4 inline-flex"},[e("span",{class:"self-stretch text-center text-black text-xl md:text-3xl font-semibold font-['Sora'] leading-9"},"Tes Gaya Belajar"),e("span",{class:"self-stretch text-center text-black text-sm md:text-base font-normal font-['Roboto'] leading-normal"},"Jawablah pertanyaan berikut ini sesuai dengan tingkat kecocokan berdasarkan kondisimu saat ini")],-1),ce={key:0,id:"soal",class:"mx-[30px] md:mx-[60px] h-auto p-9 bg-white rounded-3xl shadow flex flex-col gap-9"},ue={key:0},de={class:"mb-4"},me={class:"block text-black text-sm md:text-base font-normal font-['Roboto'] leading-normal mb-2"},fe={class:"flex flex-col mx-2"},pe={class:"flex flex-col gap-2"},_e={class:"text-black text-sm md:text-base font-normal font-['Roboto'] leading-normal"},xe={class:"mt-2 flex items-center justify-center gap-4"},he=["onClick"],be={class:"gap-2 flex flex-col md:flex-row justify-center md:justify-between items-center"},ve={class:"text-[#667084] text-base font-normal font-['Roboto'] leading-normal"},ge=e("div",{class:"text-white text-base font-normal font-['Roboto'] leading-normal"},"Selanjutnya",-1),ke=e("div",{class:"w-6 h-6 relative"},[e("img",{src:se,alt:"icon"})],-1),ye=[ge,ke],we={key:1,class:"w-[600px] h-[296px] flex flex-col justify-center items-center"},Ce=e("span",{class:"flex justify-center animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14 m-auto"},null,-1),je=[Ce],Be={__name:"SoalAssessment",props:{customerId:Number},emits:["refreshData"],setup(x,{emit:b}){const S=b,v=x,C=H(),g=o(!1),d=o(!1),k=o(null),r=o(""),c=o(""),y=o(""),A=o(""),K=o(""),j=o(""),M=o([]),h=o([]),O=()=>{setTimeout(()=>{const t=document.getElementById("soal");t&&t.scrollIntoView({behavior:"smooth"})},100)},B=(t,l)=>h.value[t]===l,Q=(t,l)=>{const a=(r.value-1)*c.value+l;h.value[a]=t},V=()=>h.value.every(t=>t!=null),z=()=>{j.value==null?_.fire({title:"Kirim jawaban sekarang?",text:"Jika belum yakin dengan jawabanmu klik tombol Cek Ulang dibawah.",icon:"question",showCancelButton:!0,cancelButtonColor:"#3b3f5c",cancelButtonText:"Cek Ulang",confirmButtonColor:"#3030f8",confirmButtonText:"Ya, kirim"}).then(async t=>{if(t.isConfirmed)try{const l=new FormData;l.append("customer_id",v.customerId),l.append("answers",JSON.stringify(h.value));const a=D.get("token"),u=await I("post","customers/assessments",l,a);_.fire({title:"Jawaban kamu sudah direkam",text:"Kamu bisa melihat hasil test kamu setelah ini.",icon:"success",confirmButtonColor:"#3030f8",confirmButtonText:"OK"}).then(i=>{i.isConfirmed&&S("refreshData")})}catch{_.fire({icon:"error",title:"Error",text:"Failed to submit answers",showConfirmButton:!1,timer:2e3})}}):V()?_.fire({title:"Lanjut ke halaman berikutnya?",text:"Jika belum yakin dengan jawabanmu klik tombol Cek Ulang dibawah.",icon:"question",showCancelButton:!0,cancelButtonColor:"#3b3f5c",cancelButtonText:"Cek Ulang",confirmButtonColor:"#3030f8",confirmButtonText:"Lanjutkan"}).then(t=>{t.isConfirmed&&G()}):_.fire({title:"Oopss Perhatikan jawabanmu",text:"Ada beberapa jawaban yang belum kamu isi",icon:"warning",showCancelButton:!1,confirmButtonColor:"#3030f8",confirmButtonText:"Cek Ulang"})},G=async()=>{if(j.value!==null){const t=j.value.split("?page=")[1];await R(t)}},R=async(t=1)=>{d.value=!d.value;const l=D.get("token");if(l)try{const a=await I("get",`assessments/questions?status=1&page=${t}`,null,l),u=a.data.data.length,i=(t-1)*u;for(let m=0;m<u;m++){const P=i+m;h.value[P]===void 0&&(h.value[P]=null)}M.value=a.data.data.map(()=>[]),k.value=a.data,y.value=a.data.from,A.value=a.data.to,K.value=a.data.total,c.value=a.data.per_page,r.value=a.data.current_page,j.value=a.data.next_page_url,O()}catch{_.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat mengambil data",showConfirmButton:!1,timer:2e3})}else C.push("/login"),localStorage.clear();d.value=!d.value};return F(async()=>{await R()}),(t,l)=>(s(),n("div",ie,[re,k.value?(s(),n("div",ce,[g.value?(s(),n("div",we,je)):(s(),n("div",ue,[(s(!0),n(T,null,$(k.value.data,(a,u)=>(s(),n("div",de,[e("label",me,f((r.value-1)*c.value+u+1)+". "+f(a.question),1),e("div",fe,[(s(!0),n(T,null,$(a.answers,(i,m)=>(s(),n("div",{key:m,class:"px-2"},[e("div",pe,[e("span",_e,f(i.answer),1)])]))),128)),e("div",xe,[(s(!0),n(T,null,$(a.answers,(i,m)=>(s(),n("button",{onClick:P=>Q(i.value,u),key:m,class:J([{"bg-[#3030f8] border-[#3030f8] text-white":B((r.value-1)*c.value+u,i.value),"border-[#667084] text-[#667084]":!B((r.value-1)*c.value+u,i.value)},"group size-10 md:w-14 md:h-14 rounded-lg border transition-all hover:border-[#3030f8] flex-col justify-center items-center gap-2.5 inline-flex"])},[e("div",{class:J([{"text-white":B((r.value-1)*c.value+u,i.value),"group-hover:text-[#3030f8] text-[#667084]":!B((r.value-1)*c.value+u,i.value)},"text-[#667084] text-base md:text-2xl font-semibold font-['Roboto'] leading-loose uppercase"])},f(i.value),3)],10,he))),128))])])]))),256)),e("div",be,[e("span",ve,f(y.value)+" - "+f(A.value)+" dari "+f(K.value),1),e("button",{onClick:z,class:"hover:translate-x-1 hover:shadow-2xl transition-all h-11 pl-6 pr-4 py-1.5 bg-[#3030f8] rounded-full justify-center items-center gap-3 inline-flex"},ye)])]))])):p("",!0)]))}},L=x=>(Z("data-v-8fd3fb6d"),x=x(),q(),x),Te={key:0,class:"preloader-overlay"},Se=L(()=>e("span",{class:"flex justify-center animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14 m-auto"},null,-1)),Pe=[Se],$e={key:1},De=L(()=>e("div",{class:"mx-0 lg:mx-[40px] mb-3 h-5 p-7 justify-center items-center gap-2 inline-flex"},[e("div",{class:"text-[#3030f8] text-sm font-normal font-roboto leading-tight"},"Beranda"),e("div",{class:"w-4 h-4 relative opacity-75"},[e("img",{src:E})]),e("div",{class:"text-[#3030f8] text-sm font-normal font-roboto leading-tight"},"Lakukan Tes"),e("div",{class:"w-4 h-4 relative opacity-75"},[e("img",{src:E})]),e("div",{class:"opacity-75 text-black text-sm font-normal font-roboto leading-tight"},"Test Assessment")],-1)),Ie={key:1,class:"bg-white pb-[34px]"},Ae={key:0,class:"fixed z-[999] inset-0 bg-gray-900 bg-opacity-60 overflow-y-auto h-full w-full px-4 modal"},Ke={class:"bg-white py-[46px]"},Re='Kerja yang bagus! Kamu telah menyelesaikan Tes <span class="font-bold">Assesment</span>. Mari lihat hasilnya dan temukan lebih banyak tentang potensi diri Kamu!',Je={__name:"TestAssessment",setup(x){const b=o(!0),S=ne(),v=o(!0),C=o(""),g=o(null),d=async()=>{try{const r=D.get("token"),c=new FormData;c.append("refresh_user","true");const y=await I("post","login",c,r);C.value=y.data.customer.id,g.value=y.data.customer.customers_assessments!=null}catch{_.fire({icon:"error",title:"Error",text:"Terjadi kesalahan saat mengambil data user",showConfirmButton:!1,timer:2e3})}finally{v.value=!1}},k=()=>{b.value=!b.value};return F(async()=>{await d()}),(r,c)=>(s(),n(T,null,[v.value?(s(),n("div",Te,Pe)):p("",!0),W(S)?(s(),n("div",$e,[w(le)])):p("",!0),v.value?p("",!0):(s(),N(ee,{key:2},{default:U(()=>[De,g.value?(s(),N(ae,{key:0,routeUrl:"user.views.hasil_assessment",message:"Test Assessment Selesai!",subMessage:Re})):p("",!0),g.value?p("",!0):(s(),n("section",Ie,[w(X,{name:"fade",mode:"out-in"},{default:U(()=>[b.value?(s(),n("div",Ae,[w(oe,{onToggleKebijakanPrivasi:k})])):p("",!0)]),_:1}),w(Be,{customerId:C.value,onRefreshData:d},null,8,["customerId"])])),e("section",Ke,[w(te)])]),_:1}))],64))}},Ze=Y(Je,[["__scopeId","data-v-8fd3fb6d"]]);export{Ze as default};
