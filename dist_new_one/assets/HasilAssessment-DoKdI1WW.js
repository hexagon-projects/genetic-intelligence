import{_ as O}from"./Layout-BXduHGGo.js";import{I as R}from"./PhEye.vue-DCL_PPp9.js";import{I as Y}from"./PhPlus.vue-DtaRBO1n.js";import{G as J}from"./PhTrash.vue-B6MooMgi.js";import{_ as X,g as Q,f as c,X as W,i as Z,r as A,o as l,c as r,a as e,b as m,w as G,d as j,F as D,l as y,v as w,H as T,O as S,k as h,G as g,S as v,t as P,s as F,L as $}from"./index-Dthq0P5E.js";import{_ as tt}from"./debounce-BfGIqxBF.js";import"./newNavbar-CpKe0X2L.js";import"./customerBottom-BcFpgPsH.js";import"./PhUser.vue-C0cTronS.js";import"./footer-BpngaeQ9.js";import"./_baseGetTag-mTY04yK9.js";const et={name:"PengaturanJawabanAssessment",components:{PhEye:R,PhTrash:J,PhPlus:Y},setup(){const p=Q(),o=c(!1),b=c(!1),t=c(!1),k=c(!1),B=c(!1),u=c(!1),_=c([]),f=c(""),x=c([]),a=c(""),n=c([]),d=c(!0),V=c(null);W(()=>f.value,i=>{n.value=i.description.slice()});const U=i=>{v.fire({icon:"question",title:"Ubah Data Ini?",text:"Klik tombol Ya untuk merubah data.",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#0b40f4",confirmButtonText:"Ya, ubah",cancelButtonColor:"#3b3f5c",cancelButtonText:"Batal"}).then(s=>{s.isConfirmed&&I(i)})},I=async i=>{b.value=!b.value;const s=P.get("token");if(s)try{const C={name:a.value,description:n.value},H=await F("put",`assessments/${i}`,C,s);v.fire({icon:"success",title:"Berhasil",text:"Data Assessment berhasil diubah.",showConfirmButton:!0,confirmButtonColor:"#0b40f4",confirmButtonText:"Tutup"}).then(z=>{z.isConfirmed&&(u.value=!1,d.value==!1&&(d.value=!0),M())})}catch{v.fire({icon:"error",title:"Terjadi Error",text:"Ada error saat merubah data Hasil Assessment.",showConfirmButton:!0,confirmButtonColor:"#0b40f4",confirmButtonText:"Tutup"})}else p.push("/login"),localStorage.clear();u.value=!1,b.value=!b.value},E=()=>{n.value.push("")},L=i=>{v.fire({icon:"question",title:"Hapus Penjelasan Ini?",text:"Penjelasan akan di hapus dan tidak dapat di kembalikan",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#0b40f4",confirmButtonText:"Ya, hapus",cancelButtonColor:"#3b3f5c",cancelButtonText:"Batal"}).then(s=>{s.isConfirmed&&n.value.splice(i,1)})},q=i=>{N();const s=x.value.find(H=>H.id===i);_.value=s,a.value=s.name;const C=s.description;f.value={description:C},n.value=f.value.description.slice()},N=()=>{u.value=!u.value,d.value==!1&&(d.value=!0)},M=async()=>{o.value=!o.value;const i=P.get("token");if(i)try{const s=await F("get","assessments",null,i);t.value=s.data.from,k.value=s.data.to,B.value=s.data.total,x.value=s.data.data}catch{v.fire({icon:"error",title:"Terjadi Error",text:"Ada error saat mengambil data Hasil Assessment",showConfirmButton:!0,confirmButtonColor:"#0b40f4",confirmButtonText:"Tutup"})}else p.push("/login"),localStorage.clear();o.value=!o.value},K=tt(async()=>{o.value=!o.value;const i=P.get("token");if(i){const s=await F("get","assessments?search="+V.value,null,i);x.value=s.data.data,t.value=s.data.from,k.value=s.data.to,B.value=s.data.total,o.value=!o.value}else p.push("/login"),localStorage.clear()},500);return Z(()=>{M()}),{loading:o,loadingSubmit:b,totalDari:t,totalKe:k,totalData:B,isModalOpen:u,detailGayaBelajar:_,descriptionBelajar:f,dataAssessment:x,newNameAssessment:a,newAnswer:n,submitDisabled:d,cari:V,debouncedGetSearchData:K,toggleModal:N,clickDetail:q,addAnswer:E,removeAnswer:L,modalConfirmSubmit:U,submitEdit:I}}},ot={class:"bg-gray-100 pb-[340px] lg:pb-28"},at={class:"mx-4 pt-4"},st={class:"mx-4 flex justify-start items-center text-gray-500 font-semibold"},nt=e("span",{class:"mx-2 text-base text-gray-400"},"/",-1),lt=e("span",{class:"text-gray-400 text-base"}," Pengaturan ",-1),rt=e("span",{class:"mx-2 text-base"},"/",-1),it={key:0,class:"fixed z-[999] inset-0 bg-gray-900 bg-opacity-60 h-full w-full px-4 modal"},dt={class:"hidden lg:block relative w-3/4 top-4 mx-auto shadow-xl rounded-md bg-white"},ct=e("h1",{class:"font-myFont text-dark text-lg mx-4 pt-4"},"Detail Gaya Belajar",-1),ut=e("hr",{class:"mt-4"},null,-1),mt={key:0,class:"flex flex-col items-center justify-center w-full"},bt=e("span",{class:"mx-auto animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14"},null,-1),ft=[bt],xt={key:1},ht={class:"flex flex-col mb-2"},gt=e("h1",{class:"text-dark text-lg font-myFont font-medium"},"Tipe Gaya Belajar",-1),pt={class:"flex flex-col"},_t=e("h1",{class:"text-dark text-lg font-myFont font-medium"},"Penjelasan",-1),yt=["onUpdate:modelValue","rows"],wt=["onClick"],vt=e("hr",{class:"pt-4"},null,-1),kt={class:"px-4 py-2 flex justify-between items-center space-x-4"},Bt=["disabled"],Ct={class:"block lg:hidden relative w-full top-1 mx-auto shadow-xl rounded-md bg-white"},At=e("h1",{class:"font-myFont text-dark text-lg mx-4 pt-4"},"Detail Gaya Belajar",-1),jt=e("hr",{class:"mt-4"},null,-1),Dt={key:0,class:"flex flex-col items-center justify-center w-full"},Tt=e("span",{class:"mx-auto animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14"},null,-1),St=[Tt],Pt={key:1},Ft={class:"flex flex-col mb-2"},Gt=e("h1",{class:"text-dark text-base font-myFont font-medium"},"Tipe Gaya Belajar",-1),Vt={class:"flex flex-col"},It=e("h1",{class:"text-dark text-base font-myFont font-medium"},"Penjelasan",-1),Nt=["onUpdate:modelValue","rows"],Mt=["onClick"],Ht=e("hr",{class:"pt-4"},null,-1),Ut={class:"px-4 py-2 flex justify-between items-center space-x-4"},Et=["disabled"],Lt={class:"flex flex-col lg:flex-row justify-center mx-4 mb-4 pt-4 pb-10 gap-4"},qt={class:"w-full px-7 mx-auto"},Kt={class:"flex flex-col bg-white w-full p-6 rounded-lg shadow-lg"},zt=e("h1",{class:"font-myFont text-dark text-lg mb-4"},"List Hasil Assessment",-1),Ot={class:"flex flex-col md:flex-row md:items-center md:justify-between lg:flex-row lg:items-center lg:justify-between"},Rt={class:"font-myFont text-xs md:text-sm lg:text-sm text-start lg:text-center text-dark"},Yt={key:0,class:"flex justify-center w-full"},Jt=e("span",{class:"mx-auto animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-biru border-r-biru rounded-full w-14 h-14"},null,-1),Xt=[Jt],Qt={key:1,class:"overflow-x-auto"},Wt={class:"w-full text-sm text-left text-gray-500"},Zt=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"py-3 px-6"},"No"),e("th",{scope:"col",class:"py-3 px-6"},"Gaya Belajar"),e("th",{scope:"col",class:"py-3 px-6"},"Kualifikasi Jawaban"),e("th",{scope:"col",class:"py-3 px-6"},"Detail")])],-1),$t={class:"py-4 px-6"},te={class:"py-4 px-6"},ee={class:"py-4 px-6"},oe={class:"py-4 px-6"},ae=["onClick"],se={key:2,class:"font-myFont text-center text-dark text-lg"};function ne(p,o,b,t,k,B){const u=A("RouterLink"),_=A("PhPlus"),f=A("PhTrash"),x=A("PhEye");return l(),r("section",ot,[e("div",at,[e("ol",st,[m(u,{to:{name:"views.dashboard"},class:"text-gray-400 hover:text-dark text-base"},{default:G(()=>[j(" Beranda ")]),_:1},8,["to"]),nt,lt,rt,m(u,{to:{name:"admin.views.pengaturan_hasil_assessment"},class:"text-base text-dark hover:text-dark/70"},{default:G(()=>[j(" Pengaturan Hasil Asssessment ")]),_:1},8,["to"])])]),t.isModalOpen&&t.detailGayaBelajar?(l(),r("div",it,[e("div",dt,[ct,ut,t.detailGayaBelajar?(l(),r("div",{key:0,class:D([{"h-[460px] flex flex-col justify-center":t.loadingSubmit},"w-full p-4 mx-auto max-h-[460px] overflow-y-scroll"])},[t.loadingSubmit?(l(),r("div",mt,ft)):t.loadingSubmit?h("",!0):(l(),r("div",xt,[e("div",ht,[gt,y(e("input",{onInput:o[0]||(o[0]=a=>t.submitDisabled=!1),"onUpdate:modelValue":o[1]||(o[1]=a=>t.newNameAssessment=a),class:"mb-1 w-1/2 outline-none appearance-none block bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-biru",type:"text"},null,544),[[w,t.newNameAssessment]])]),e("div",pt,[_t,e("button",{onClick:o[2]||(o[2]=(...a)=>t.addAnswer&&t.addAnswer(...a)),class:"flex justify-center gap-1 items-center w-[160px] mb-1 px-2 py-1 bg-white border border-biru text-biru rounded-md hover:bg-biru hover:text-white"},[m(_),j(" Tambah Form ")]),(l(!0),r(T,null,S(t.newAnswer,(a,n)=>(l(),r("div",{key:n,class:"flex justify-start items-center gap-2"},[y(e("textarea",{onInput:o[3]||(o[3]=d=>t.submitDisabled=!1),"onUpdate:modelValue":d=>t.newAnswer[n]=d,rows:a.length>=200?2:1,class:"mb-1 appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-biru",type:"text"},null,40,yt),[[w,t.newAnswer[n]]]),e("button",{onClick:d=>t.removeAnswer(n),class:"p-2 text-danger bg-white rounded-md border border-danger hover:text-white hover:bg-danger"},[m(f)],8,wt)]))),128))])]))],2)):h("",!0),vt,e("div",kt,[e("button",{class:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",onClick:o[4]||(o[4]=(...a)=>t.toggleModal&&t.toggleModal(...a))},"Tutup"),e("button",{disabled:t.submitDisabled,class:D([{"bg-gray-600 opacity-80 cursor-not-allowed":t.submitDisabled==!0},"bg-biru text-white px-4 py-2 rounded-md hover:bg-opacity-75 hover:shadow-md transition"]),onClick:o[5]||(o[5]=a=>t.modalConfirmSubmit(t.detailGayaBelajar.id))}," Submit ",10,Bt)])]),e("div",Ct,[At,jt,t.detailGayaBelajar?(l(),r("div",{key:0,class:D([{"h-[460px] flex flex-col justify-center":t.loadingSubmit},"w-full p-4 mx-auto max-h-[460px] overflow-y-scroll"])},[t.loadingSubmit?(l(),r("div",Dt,St)):t.loadingSubmit?h("",!0):(l(),r("div",Pt,[e("div",Ft,[Gt,y(e("input",{onInput:o[6]||(o[6]=a=>t.submitDisabled=!1),"onUpdate:modelValue":o[7]||(o[7]=a=>t.newNameAssessment=a),class:"mb-1 w-1/2 outline-none appearance-none block bg-gray-200 text-sm text-gray-700 border border-gray-200 rounded py-2 px-3 leading-tight focus:outline-none focus:bg-white focus:border-biru",type:"text"},null,544),[[w,t.newNameAssessment]])]),e("div",Vt,[It,e("button",{onClick:o[8]||(o[8]=(...a)=>t.addAnswer&&t.addAnswer(...a)),class:"flex justify-center gap-1 items-center w-[160px] mb-1 px-2 py-1 bg-white border border-biru text-biru rounded-md hover:bg-biru hover:text-white"},[m(_),j(" Tambah Form ")]),(l(!0),r(T,null,S(t.newAnswer,(a,n)=>(l(),r("div",{key:n,class:"flex justify-start items-center gap-2"},[y(e("textarea",{onInput:o[9]||(o[9]=d=>t.submitDisabled=!1),"onUpdate:modelValue":d=>t.newAnswer[n]=d,rows:a.length>=200?2:1,class:"mb-1 appearance-none block w-full bg-gray-200 text-sm text-gray-700 border border-gray-200 rounded py-2 px-3 leading-tight focus:outline-none focus:bg-white focus:border-biru",type:"text"},null,40,Nt),[[w,t.newAnswer[n]]]),e("button",{onClick:d=>t.removeAnswer(n),class:"p-2 text-danger bg-white rounded-md border border-danger hover:text-white hover:bg-danger"},[m(f)],8,Mt)]))),128))])]))],2)):h("",!0),Ht,e("div",Ut,[e("button",{class:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",onClick:o[10]||(o[10]=(...a)=>t.toggleModal&&t.toggleModal(...a))},"Tutup"),e("button",{disabled:t.submitDisabled,class:D([{"bg-gray-600 opacity-80 cursor-not-allowed":t.submitDisabled==!0},"bg-biru text-white px-4 py-2 rounded-md hover:bg-opacity-75 hover:shadow-md transition"]),onClick:o[11]||(o[11]=a=>t.modalConfirmSubmit(t.detailGayaBelajar.id))}," Submit ",10,Et)])])])):h("",!0),e("div",Lt,[e("div",qt,[e("div",Kt,[zt,e("div",Ot,[e("span",Rt,g(t.totalDari)+" sampai "+g(t.totalKe)+" dari "+g(t.totalData)+" data. ",1),y(e("input",{"onUpdate:modelValue":o[12]||(o[12]=a=>t.cari=a),onInput:o[13]||(o[13]=()=>t.debouncedGetSearchData()),type:"text",name:"cari",class:"mb-2 font-myFont rounded-md border border-gray-300 py-2 px-3",placeholder:"Cari Data"},null,544),[[w,t.cari]])]),t.loading?(l(),r("div",Yt,Xt)):t.dataAssessment.length>0&&!t.loading?(l(),r("div",Qt,[e("table",Wt,[Zt,e("tbody",null,[(l(!0),r(T,null,S(t.dataAssessment,(a,n)=>(l(),r("tr",{key:n,class:"bg-white border-b"},[e("td",$t,g(n+1),1),e("td",te,g(a.name),1),e("td",ee,g(a.qualification),1),e("td",oe,[e("button",{onClick:d=>t.clickDetail(a.id),class:"flex items-center gap-1 px-4 py-2 bg-biru font-myFont text-sm text-white rounded-lg hover:bg-opacity-75 hover:shadow-lg"},[m(x,{size:22})],8,ae)])]))),128))])])])):t.dataAssessment.length==0&&!t.loading?(l(),r("span",se,"Data kosong")):h("",!0)])])])])}const le=X(et,[["render",ne]]),_e={__name:"HasilAssessment",setup(p){return(o,b)=>(l(),$(O,null,{default:G(()=>[m(le)]),_:1}))}};export{_e as default};
